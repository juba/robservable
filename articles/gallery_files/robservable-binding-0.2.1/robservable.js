(()=>{"use strict";var e={874:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,":root{--syntax_normal:#1b1e23;--syntax_comment:#a9b0bc;--syntax_number:#20a5ba;--syntax_keyword:#c30771;--syntax_atom:#10a778;--syntax_string:#008ec4;--syntax_error:#ffbedc;--syntax_unknown_variable:#838383;--syntax_known_variable:#005f87;--syntax_matchbracket:#20bbfc;--syntax_key:#6636b4;--mono_fonts:82%/1.5 Menlo,Consolas,monospace}.observablehq--collapsed,.observablehq--expanded,.observablehq--function,.observablehq--gray,.observablehq--import,.observablehq--string:after,.observablehq--string:before{color:var(--syntax_normal)}.observablehq--collapsed,.observablehq--inspect a{cursor:pointer}.observablehq--field{text-indent:-1em;margin-left:1em}.observablehq--empty{color:var(--syntax_comment)}.observablehq--blue,.observablehq--keyword{color:#3182bd}.observablehq--forbidden,.observablehq--pink{color:#e377c2}.observablehq--orange{color:#e6550d}.observablehq--boolean,.observablehq--null,.observablehq--undefined{color:var(--syntax_atom)}.observablehq--bigint,.observablehq--date,.observablehq--green,.observablehq--number,.observablehq--regexp,.observablehq--symbol{color:var(--syntax_number)}.observablehq--index,.observablehq--key{color:var(--syntax_key)}.observablehq--prototype-key{color:#aaa}.observablehq--empty{font-style:oblique}.observablehq--purple,.observablehq--string{color:var(--syntax_string)}.observablehq--error,.observablehq--red{color:#e7040f}.observablehq--inspect{font:var(--mono_fonts);overflow-x:auto;display:block;white-space:pre}.observablehq--error .observablehq--inspect{word-break:break-all;white-space:pre-wrap}",""]);const i=o},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],u=r.base?l[0]+r.base:l[0],c=i[u]||0,d="".concat(u," ").concat(c);i[u]=c+1;var f=n(d),h={css:l[1],media:l[2],sourceMap:l[3]};-1!==f?(t[f].references++,t[f].updater(h)):t.push({identifier:d,updater:o(h,r),references:1}),a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),u=0;u<i.length;u++){var c=n(i[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=l}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{function e(e,t,n){n=n||{};var r=e.ownerDocument,o=r.defaultView.CustomEvent;"function"==typeof o?o=new o(t,{detail:n}):((o=r.createEvent("Event")).initEvent(t,!1,!1),o.detail=n),e.dispatchEvent(o)}function t(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function r(e){return e===(0|e)+""}function o(e){const t=document.createElement("span");return t.className="observablehq--cellname",t.textContent=`${e} = `,t}const i=Symbol.prototype.toString;function a(e){return i.call(e)}const{getOwnPropertySymbols:s,prototype:{hasOwnProperty:l}}=Object,{toStringTag:u}=Symbol,c={},d=s;function f(e,t){return l.call(e,t)}function h(e){return e[u]||e.constructor&&e.constructor.name||"Object"}function p(e,t){try{const n=e[t];return n&&n.constructor,n}catch(e){return c}}const m=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function v(e){try{let t=m.filter((({symbol:t})=>!0===e[t]));if(!t.length)return;const n=t.find((e=>!e.modifier)),r="Map"===n.name&&t.find((e=>e.modifier&&e.prefix)),o=t.some((e=>e.arrayish)),i=t.some((e=>e.setish));return{name:`${r?r.name:""}${n.name}`,symbols:t,arrayish:o&&!i,setish:i}}catch(e){return null}}const{getPrototypeOf:b,getOwnPropertyDescriptors:_}=Object,y=b({});function w(n,r,i,a){let s,l,u,c,d=t(n);n instanceof Map?n instanceof n.constructor?(s=`Map(${n.size})`,l=g):(s="Map()",l=N):n instanceof Set?n instanceof n.constructor?(s=`Set(${n.size})`,l=x):(s="Set()",l=N):d?(s=`${n.constructor.name}(${n.length})`,l=C):(c=v(n))?(s=`Immutable.${c.name}${"Record"===c.name?"":`(${n.size})`}`,d=c.arrayish,l=c.arrayish?q:c.setish?E:M):a?(s=h(n),l=j):(s=h(n),l=N);const f=document.createElement("span");f.className="observablehq--expanded",i&&f.appendChild(o(i));const p=f.appendChild(document.createElement("a"));p.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M4 7L0 1h8z' fill='currentColor' />\n  </svg>",p.appendChild(document.createTextNode(`${s}${d?" [":" {"}`)),p.addEventListener("mouseup",(function(e){e.stopPropagation(),se(f,O(n,null,i,a))})),l=l(n);for(let e=0;!(u=l.next()).done&&e<20;++e)f.appendChild(u.value);if(!u.done){const t=f.appendChild(document.createElement("a"));t.className="observablehq--field",t.style.display="block",t.appendChild(document.createTextNode("  â€¦ more")),t.addEventListener("mouseup",(function(t){t.stopPropagation(),f.insertBefore(u.value,f.lastChild.previousSibling);for(let e=0;!(u=l.next()).done&&e<19;++e)f.insertBefore(u.value,f.lastChild.previousSibling);u.done&&f.removeChild(f.lastChild.previousSibling),e(f,"load")}))}return f.appendChild(document.createTextNode(d?"]":"}")),f}function*g(e){for(const[t,n]of e)yield A(t,n);yield*N(e)}function*x(e){for(const t of e)yield k(t);yield*N(e)}function*E(e){for(const t of e)yield k(t)}function*C(e){for(let t=0,n=e.length;t<n;++t)t in e&&(yield P(t,p(e,t),"observablehq--index"));for(const t in e)!r(t)&&f(e,t)&&(yield P(t,p(e,t),"observablehq--key"));for(const t of d(e))yield P(a(t),p(e,t),"observablehq--symbol")}function*q(e){let t=0;for(const n=e.size;t<n;++t)yield P(t,e.get(t),!0)}function*j(e){for(const t in _(e))yield P(t,p(e,t),"observablehq--key");for(const t of d(e))yield P(a(t),p(e,t),"observablehq--symbol");const t=b(e);t&&t!==y&&(yield S(t))}function*N(e){for(const t in e)f(e,t)&&(yield P(t,p(e,t),"observablehq--key"));for(const t of d(e))yield P(a(t),p(e,t),"observablehq--symbol");const t=b(e);t&&t!==y&&(yield S(t))}function*M(e){for(const[t,n]of e)yield P(t,n,"observablehq--key")}function S(e){const t=document.createElement("div"),n=t.appendChild(document.createElement("span"));return t.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",t.appendChild(document.createTextNode(": ")),t.appendChild(ae(e,void 0,void 0,void 0,!0)),t}function P(e,t,n){const r=document.createElement("div"),o=r.appendChild(document.createElement("span"));return r.className="observablehq--field",o.className=n,o.textContent=`  ${e}`,r.appendChild(document.createTextNode(": ")),r.appendChild(ae(t)),r}function A(e,t){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(ae(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(ae(t)),n}function k(e){const t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(ae(e)),t}function L(e){const t=window.getSelection();return"Range"===t.type&&(t.containsNode(e,!0)||t.anchorNode.isSelfOrDescendant(e)||t.focusNode.isSelfOrDescendant(e))}function O(e,n,r,i){let a,s,l,u,c=t(e);if(e instanceof Map?e instanceof e.constructor?(a=`Map(${e.size})`,s=T):(a="Map()",s=D):e instanceof Set?e instanceof e.constructor?(a=`Set(${e.size})`,s=$):(a="Set()",s=D):c?(a=`${e.constructor.name}(${e.length})`,s=I):(u=v(e))?(a=`Immutable.${u.name}${"Record"===u.name?"":`(${e.size})`}`,c=u.arrayish,s=u.arrayish?R:u.setish?U:F):(a=h(e),s=D),n){const t=document.createElement("span");return t.className="observablehq--shallow",r&&t.appendChild(o(r)),t.appendChild(document.createTextNode(a)),t.addEventListener("mouseup",(function(n){L(t)||(n.stopPropagation(),se(t,O(e)))})),t}const d=document.createElement("span");d.className="observablehq--collapsed",r&&d.appendChild(o(r));const f=d.appendChild(document.createElement("a"));f.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M7 4L1 8V0z' fill='currentColor' />\n  </svg>",f.appendChild(document.createTextNode(`${a}${c?" [":" {"}`)),d.addEventListener("mouseup",(function(t){L(d)||(t.stopPropagation(),se(d,w(e,0,r,i)))}),!0),s=s(e);for(let e=0;!(l=s.next()).done&&e<20;++e)e>0&&d.appendChild(document.createTextNode(", ")),d.appendChild(l.value);return l.done||d.appendChild(document.createTextNode(", â€¦")),d.appendChild(document.createTextNode(c?"]":"}")),d}function*T(e){for(const[t,n]of e)yield H(t,n);yield*D(e)}function*$(e){for(const t of e)yield ae(t,!0);yield*D(e)}function*U(e){for(const t of e)yield ae(t,!0)}function*R(e){let t=-1,n=0;for(const r=e.size;n<r;++n)n>t+1&&(yield z(n-t-1)),yield ae(e.get(n),!0),t=n;n>t+1&&(yield z(n-t-1))}function*I(e){let t=-1,n=0;for(const r=e.length;n<r;++n)n in e&&(n>t+1&&(yield z(n-t-1)),yield ae(p(e,n),!0),t=n);n>t+1&&(yield z(n-t-1));for(const t in e)!r(t)&&f(e,t)&&(yield B(t,p(e,t),"observablehq--key"));for(const t of d(e))yield B(a(t),p(e,t),"observablehq--symbol")}function*D(e){for(const t in e)f(e,t)&&(yield B(t,p(e,t),"observablehq--key"));for(const t of d(e))yield B(a(t),p(e,t),"observablehq--symbol")}function*F(e){for(const[t,n]of e)yield B(t,n,"observablehq--key")}function z(e){const t=document.createElement("span");return t.className="observablehq--empty",t.textContent=1===e?"empty":`empty Ã— ${e}`,t}function B(e,t,n){const r=document.createDocumentFragment(),o=r.appendChild(document.createElement("span"));return o.className=n,o.textContent=e,r.appendChild(document.createTextNode(": ")),r.appendChild(ae(t,!0)),r}function H(e,t){const n=document.createDocumentFragment();return n.appendChild(ae(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(ae(t,!0)),n}function W(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function V(e){return e<0?"-"+W(-e,6):e>9999?"+"+W(e,6):W(e,4)}var Z=Error.prototype.toString,J=RegExp.prototype.toString;function Y(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,G)}function G(e){var t=e.charCodeAt(0);switch(t){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function K(e,t){for(var n=0;t.exec(e);)++n;return n}var Q=Function.prototype.toString,X={prefix:"async Æ’"},ee={prefix:"async Æ’*"},te={prefix:"class"},ne={prefix:"Æ’"},re={prefix:"Æ’*"};function oe(e,t,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild(o(n));var i=r.appendChild(document.createElement("span"));return i.className="observablehq--keyword",i.textContent=e.prefix,r.appendChild(document.createTextNode(t)),r}const{prototype:{toString:ie}}=Object;function ae(e,t,n,r,i){let s=typeof e;switch(s){case"boolean":case"undefined":e+="";break;case"number":e=0===e&&1/e<0?"-0":e+"";break;case"bigint":e+="n";break;case"symbol":e=a(e);break;case"function":return function(e,t){var n,r,o=Q.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":n=X;break;case"AsyncGeneratorFunction":n=ee;break;case"GeneratorFunction":n=re;break;default:n=/^class\b/.test(o)?te:ne}return n===te?oe(n,"",t):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(o))?oe(n,"("+r[1]+")",t):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(o))||(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(o))?oe(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):oe(n,"(â€¦)",t)}(e,r);case"string":return function(e,t,n,r){if(!1===t){if(K(e,/["\n]/g)<=K(e,/`|\${/g)){const t=document.createElement("span");r&&t.appendChild(o(r));const n=t.appendChild(document.createElement("span"));return n.className="observablehq--string",n.textContent=JSON.stringify(e),t}const i=e.split("\n");if(i.length>20&&!n){const n=document.createElement("div");r&&n.appendChild(o(r));const a=n.appendChild(document.createElement("span"));a.className="observablehq--string",a.textContent="`"+Y(i.slice(0,20).join("\n"));const s=n.appendChild(document.createElement("span")),l=i.length-20;return s.textContent=`Show ${l} truncated line${l>1?"s":""}`,s.className="observablehq--string-expand",s.addEventListener("mouseup",(function(o){o.stopPropagation(),se(n,ae(e,t,!0,r))})),n}const a=document.createElement("span");r&&a.appendChild(o(r));const s=a.appendChild(document.createElement("span"));return s.className="observablehq--string"+(n?" observablehq--expanded":""),s.textContent="`"+Y(e)+"`",a}const i=document.createElement("span");r&&i.appendChild(o(r));const a=i.appendChild(document.createElement("span"));return a.className="observablehq--string",a.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}â€¦${e.slice(-49)}`:e),i}(e,t,n,r);default:if(null===e){s=null,e="null";break}if(e instanceof Date){s="date",l=e,e=isNaN(l)?"Invalid Date":function(e){return 0===e.getUTCMilliseconds()&&0===e.getUTCSeconds()&&0===e.getUTCMinutes()&&0===e.getUTCHours()}(l)?V(l.getUTCFullYear())+"-"+W(l.getUTCMonth()+1,2)+"-"+W(l.getUTCDate(),2):V(l.getFullYear())+"-"+W(l.getMonth()+1,2)+"-"+W(l.getDate(),2)+"T"+W(l.getHours(),2)+":"+W(l.getMinutes(),2)+(l.getMilliseconds()?":"+W(l.getSeconds(),2)+"."+W(l.getMilliseconds(),3):l.getSeconds()?":"+W(l.getSeconds(),2):"");break}if(e===c){s="forbidden",e="[forbidden]";break}switch(ie.call(e)){case"[object RegExp]":s="regexp",e=function(e){return J.call(e)}(e);break;case"[object Error]":case"[object DOMException]":s="error",e=function(e){return e.stack||Z.call(e)}(e);break;default:return(n?w:O)(e,t,r,i)}}var l;const u=document.createElement("span");r&&u.appendChild(o(r));const d=u.appendChild(document.createElement("span"));return d.className=`observablehq--${s}`,d.textContent=e,u}function se(t,n){t.classList.contains("observablehq--inspect")&&n.classList.add("observablehq--inspect"),t.parentNode.replaceChild(n,t),e(n,"load")}const le=/\s+\(\d+:\d+\)$/m;class ue{constructor(e){if(!e)throw new Error("invalid node");this._node=e,e.classList.add("observablehq")}pending(){const{_node:e}=this;e.classList.remove("observablehq--error"),e.classList.add("observablehq--running")}fulfilled(t,n){const{_node:r}=this;if((!(t instanceof Element||t instanceof Text)||t.parentNode&&t.parentNode!==r)&&(t=ae(t,!1,r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("observablehq--expanded"),n)).classList.add("observablehq--inspect"),r.classList.remove("observablehq--running","observablehq--error"),r.firstChild!==t)if(r.firstChild){for(;r.lastChild!==r.firstChild;)r.removeChild(r.lastChild);r.replaceChild(t,r.firstChild)}else r.appendChild(t);e(r,"update")}rejected(t,n){const{_node:r}=this;for(r.classList.remove("observablehq--running"),r.classList.add("observablehq--error");r.lastChild;)r.removeChild(r.lastChild);var i=document.createElement("div");i.className="observablehq--inspect",n&&i.appendChild(o(n)),i.appendChild(document.createTextNode((t+"").replace(le,""))),r.appendChild(i),e(r,"error",{error:t})}}ue.into=function(e){if("string"==typeof e&&null==(e=document.querySelector(e)))throw new Error("container not found");return function(){return new ue(e.appendChild(document.createElement("div")))}};const ce=new Map,de=[],fe=de.map,he=de.some,pe=de.hasOwnProperty,me="https://cdn.jsdelivr.net/npm/",ve=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,be=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,_e=/\.[^/]*$/,ye=["unpkg","jsdelivr","browser","main"];class we extends Error{constructor(e){super(e)}}function ge(e){const t=ve.exec(e);return t&&{name:t[1],version:t[2],path:t[3]}}function xe(e){const t=`${me}${e.name}${e.version?`@${e.version}`:""}/package.json`;let n=ce.get(t);return n||ce.set(t,n=fetch(t).then((e=>{if(!e.ok)throw new we("unable to load package.json");return e.redirected&&!ce.has(e.url)&&ce.set(e.url,n),e.json()}))),n}we.prototype.name=we.name;var Ee=Ce((async function(e,t){if(e.startsWith(me)&&(e=e.substring(me.length)),/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,null==t?location:t).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new we("illegal name");const n=ge(e);if(!n)return`${me}${e}`;if(!n.version&&null!=t&&t.startsWith(me)){const e=await xe(ge(t.substring(me.length)));n.version=e.dependencies&&e.dependencies[n.name]||e.peerDependencies&&e.peerDependencies[n.name]}if(n.path&&!_e.test(n.path)&&(n.path+=".js"),n.path&&n.version&&be.test(n.version))return`${me}${n.name}@${n.version}/${n.path}`;const r=await xe(n);return`${me}${r.name}@${r.version}/${n.path||function(e){for(const t of ye){const n=e[t];if("string"==typeof n)return _e.test(n)?n:`${n}.js`}}(r)||"index.js"}`}));function Ce(e){const t=new Map,n=o(null);function r(e){if("string"!=typeof e)return e;let n=t.get(e);return n||t.set(e,n=new Promise(((t,n)=>{const r=document.createElement("script");r.onload=()=>{try{t(de.pop()(o(e)))}catch(e){n(new we("invalid module"))}r.remove()},r.onerror=()=>{n(new we("unable to load module")),r.remove()},r.async=!0,r.src=e,window.define=Me,document.head.appendChild(r)}))),n}function o(t){return n=>Promise.resolve(e(n,t)).then(r)}function i(e){return arguments.length>1?Promise.all(fe.call(arguments,n)).then(qe):n(e)}return i.alias=function(t){return Ce(((n,r)=>n in t&&(r=null,"string"!=typeof(n=t[n]))?n:e(n,r)))},i.resolve=e,i}function qe(e){const t={};for(const n of e)for(const e in n)pe.call(n,e)&&(null==n[e]?Object.defineProperty(t,e,{get:je(n,e)}):t[e]=n[e]);return t}function je(e,t){return()=>e[t]}function Ne(e){return"exports"==(e+="")||"module"===e}function Me(e,t,n){const r=arguments.length;r<2?(n=e,t=[]):r<3&&(n=t,t="string"==typeof e?[]:e),de.push(he.call(t,Ne)?e=>{const r={},o={exports:r};return Promise.all(fe.call(t,(t=>"exports"==(t+="")?r:"module"===t?o:e(t)))).then((e=>(n.apply(null,e),o.exports)))}:e=>Promise.all(fe.call(t,e)).then((e=>"function"==typeof n?n.apply(null,e):n)))}function Se(e,t,n){return{resolve:(r=n)=>`https://cdn.jsdelivr.net/npm/${e}@${t}/${r}`}}Me.amd={};const Pe=Se("d3","6.7.0","dist/d3.min.js"),Ae=Se("d3-dsv","2.0.0","dist/d3-dsv.min.js"),ke=Se("@observablehq/inputs","0.8.0","dist/inputs.umd.min.js"),Le=Se("@observablehq/plot","0.1.0","dist/plot.umd.min.js"),Oe=Se("@observablehq/graphviz","0.2.1","dist/graphviz.min.js"),Te=Se("@observablehq/highlight.js","2.0.0","highlight.min.js"),$e=Se("@observablehq/katex","0.11.1","dist/katex.min.js"),Ue=Se("lodash","4.17.21","lodash.min.js"),Re=Se("htl","0.2.5","dist/htl.min.js"),Ie=Se("marked","0.3.12","marked.min.js"),De=Se("sql.js","1.5.0","dist/sql-wasm.js"),Fe=Se("vega","5.20.2","build/vega.min.js"),ze=Se("vega-lite","5.1.0","build/vega-lite.min.js"),Be=Se("vega-lite-api","5.0.0","build/vega-lite-api.min.js"),He=Se("apache-arrow","4.0.1","Arrow.es2015.min.js");async function We(e){return(await e(De.resolve()))({locateFile:e=>De.resolve(`dist/${e}`)})}class Ve{constructor(e){Object.defineProperties(this,{_db:{value:e}})}static async open(e){const[t,n]=await Promise.all([We(Ee),Promise.resolve(e).then(Ze)]);return new Ve(new t.Database(n))}async query(e,t){return await async function(e,t,n){const[r]=await e.exec(t,n);if(!r)return[];const{columns:o,values:i}=r,a=i.map((e=>Object.fromEntries(e.map(((e,t)=>[o[t],e])))));return a.columns=o,a}(this._db,e,t)}async queryRow(e,t){return(await this.query(e,t))[0]||null}async explain(e,t){return Je("pre",{className:"observablehq--inspect"},[Ye((await this.query(`EXPLAIN QUERY PLAN ${e}`,t)).map((e=>e.detail)).join("\n"))])}async describe(e){const t=await(void 0===e?this.query("SELECT name FROM sqlite_master WHERE type = 'table'"):this.query("SELECT * FROM pragma_table_info(?)",[e]));if(!t.length)throw new Error("Not found");const{columns:n}=t;return Je("table",{value:t},[Je("thead",[Je("tr",n.map((e=>Je("th",[Ye(e)]))))]),Je("tbody",t.map((e=>Je("tr",n.map((t=>Je("td",[Ye(e[t])])))))))])}}function Ze(e){return"string"==typeof e?fetch(e).then(Ze):e instanceof Response||e instanceof Blob?e.arrayBuffer().then(Ze):e instanceof ArrayBuffer?new Uint8Array(e):e}function Je(e,t,n){2===arguments.length&&(n=t,t=void 0);const r=document.createElement(e);if(void 0!==t)for(const e in t)r[e]=t[e];if(void 0!==n)for(const e of n)r.appendChild(e);return r}function Ye(e){return document.createTextNode(e)}async function Ge(e){return await e("jszip@3.6.0/dist/jszip.min.js")}async function Ke(e){const t=await fetch(await e.url());if(!t.ok)throw new Error(`Unable to load file: ${e.name}`);return t}async function Qe(e,t,{array:n=!1,typed:r=!1}={}){const[o,i]=await Promise.all([e.text(),Ee(Ae.resolve())]);return("\t"===t?n?i.tsvParseRows:i.tsvParse:n?i.csvParseRows:i.csvParse)(o,r&&i.autoType)}class Xe{constructor(e){Object.defineProperty(this,"name",{value:e,enumerable:!0})}async blob(){return(await Ke(this)).blob()}async arrayBuffer(){return(await Ke(this)).arrayBuffer()}async text(){return(await Ke(this)).text()}async json(){return(await Ke(this)).json()}async stream(){return(await Ke(this)).body}async csv(e){return Qe(this,",",e)}async tsv(e){return Qe(this,"\t",e)}async image(){const e=await this.url();return new Promise(((t,n)=>{const r=new Image;new URL(e,document.baseURI).origin!==new URL(location).origin&&(r.crossOrigin="anonymous"),r.onload=()=>t(r),r.onerror=()=>n(new Error(`Unable to load file: ${this.name}`)),r.src=e}))}async arrow(){const[e,t]=await Promise.all([Ee(He.resolve()),Ke(this)]);return e.Table.from(t)}async sqlite(){return Ve.open(Ke(this))}async zip(){const[e,t]=await Promise.all([Ge(Ee),this.arrayBuffer()]);return new nt(await e.loadAsync(t))}}class et extends Xe{constructor(e,t){super(t),Object.defineProperty(this,"_url",{value:e})}async url(){return await this._url+""}}function tt(e){throw new Error(`File not found: ${e}`)}class nt{constructor(e){Object.defineProperty(this,"_",{value:e}),this.filenames=Object.keys(e.files).filter((t=>!e.files[t].dir))}file(e){const t=this._.file(e+="");if(!t||t.dir)throw new Error(`file not found: ${e}`);return new rt(t)}}class rt extends Xe{constructor(e){super(e.name),Object.defineProperty(this,"_",{value:e}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=this.blob().then(URL.createObjectURL))}async blob(){return this._.async("blob")}async arrayBuffer(){return this._.async("arraybuffer")}async text(){return this._.async("text")}async json(){return JSON.parse(await this.text())}}var ot={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},it=0;function at(e){this.id=e,this.href=new URL(`#${e}`,location)+""}at.prototype.toString=function(){return"url("+this.href+")"};const st={canvas:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},context2d:function(e,t,n){null==n&&(n=devicePixelRatio);var r=document.createElement("canvas");r.width=e*n,r.height=t*n,r.style.width=e+"px";var o=r.getContext("2d");return o.scale(n,n),o},download:function(e,t="untitled",n="Save"){const r=document.createElement("a"),o=r.appendChild(document.createElement("button"));async function i(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(r.href),r.removeAttribute("href"),o.textContent=n,o.disabled=!1}return o.textContent=n,r.download=t,r.onclick=async t=>{if(o.disabled=!0,r.href)return i();o.textContent="Savingâ€¦";try{const t=await("function"==typeof e?e():e);o.textContent="Download",r.href=URL.createObjectURL(t)}catch(e){o.textContent=n}if(t.eventPhase)return i();o.disabled=!1},r},element:function(e,t){var n,r=e+="",o=r.indexOf(":");o>=0&&"xmlns"!==(r=e.slice(0,o))&&(e=e.slice(o+1));var i=ot.hasOwnProperty(r)?document.createElementNS(ot[r],e):document.createElement(e);if(t)for(var a in t)o=(r=a).indexOf(":"),n=t[a],o>=0&&"xmlns"!==(r=a.slice(0,o))&&(a=a.slice(o+1)),ot.hasOwnProperty(r)?i.setAttributeNS(ot[r],a,n):i.setAttribute(a,n);return i},input:function(e){var t=document.createElement("input");return null!=e&&(t.type=e),t},range:function(e,t,n){1===arguments.length&&(t=e,e=null);var r=document.createElement("input");return r.min=e=null==e?0:+e,r.max=t=null==t?1:+t,r.step=null==n?"any":n=+n,r.type="range",r},select:function(e){var t=document.createElement("select");return Array.prototype.forEach.call(e,(function(e){var n=document.createElement("option");n.value=n.textContent=e,t.appendChild(n)})),t},svg:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",[0,0,e,t]),n.setAttribute("width",e),n.setAttribute("height",t),n},text:function(e){return document.createTextNode(e)},uid:function(e){return new at("O-"+(null==e?"":e+"-")+ ++it)}},lt={buffer:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)}))},text:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsText(e)}))},url:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsDataURL(e)}))}};function ut(){return this}function ct(e,t){let n=!1;if("function"!=typeof t)throw new Error("dispose is not a function");return{[Symbol.iterator]:ut,next:()=>n?{done:!0}:(n=!0,{done:!1,value:e}),return:()=>(n=!0,t(e),{done:!0}),throw:()=>({done:n=!0})}}function dt(e){let t,n,r=!1;const o=e((function(e){return n?(n(e),n=null):r=!0,t=e}));if(null!=o&&"function"!=typeof o)throw new Error("function"==typeof o.then?"async initializers are not supported":"initializer returned something, but not a dispose function");return{[Symbol.iterator]:ut,throw:()=>({done:!0}),return:()=>(null!=o&&o(),{done:!0}),next:function(){return{done:!1,value:r?(r=!1,Promise.resolve(t)):new Promise((e=>n=e))}}}}function ft(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];case"select-multiple":return Array.from(e.selectedOptions,(e=>e.value));default:return e.value}}const ht={disposable:ct,filter:function*(e,t){for(var n,r=-1;!(n=e.next()).done;)t(n.value,++r)&&(yield n.value)},input:function(e){return dt((function(t){var n=function(e){switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}(e),r=ft(e);function o(){t(ft(e))}return e.addEventListener(n,o),void 0!==r&&t(r),function(){e.removeEventListener(n,o)}}))},map:function*(e,t){for(var n,r=-1;!(n=e.next()).done;)yield t(n.value,++r)},observe:dt,queue:function(e){let t;const n=[],r=e((function(e){return n.push(e),t&&(t(n.shift()),t=null),e}));if(null!=r&&"function"!=typeof r)throw new Error("function"==typeof r.then?"async initializers are not supported":"initializer returned something, but not a dispose function");return{[Symbol.iterator]:ut,throw:()=>({done:!0}),return:()=>(null!=r&&r(),{done:!0}),next:function(){return{done:!1,value:n.length?Promise.resolve(n.shift()):new Promise((e=>t=e))}}}},range:function*(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n));++r<o;)yield e+r*n},valueAt:function(e,t){if(!(!isFinite(t=+t)||t<0||t!=t|0))for(var n,r=-1;!(n=e.next()).done;)if(++r===t)return n.value},worker:function(e){const t=URL.createObjectURL(new Blob([e],{type:"text/javascript"})),n=new Worker(t);return ct(n,(()=>{n.terminate(),URL.revokeObjectURL(t)}))}};function pt(e,t){return function(n){var r,o,i,a,s,l,u,c,d=n[0],f=[],h=null,p=-1;for(s=1,l=arguments.length;s<l;++s){if((r=arguments[s])instanceof Node)f[++p]=r,d+="\x3c!--o:"+p+"--\x3e";else if(Array.isArray(r)){for(u=0,c=r.length;u<c;++u)(o=r[u])instanceof Node?(null===h&&(f[++p]=h=document.createDocumentFragment(),d+="\x3c!--o:"+p+"--\x3e"),h.appendChild(o)):(h=null,d+=o);h=null}else d+=r;d+=n[s]}if(h=e(d),++p>0){for(i=new Array(p),a=document.createTreeWalker(h,NodeFilter.SHOW_COMMENT,null,!1);a.nextNode();)o=a.currentNode,/^o:/.test(o.nodeValue)&&(i[+o.nodeValue.slice(2)]=o);for(s=0;s<p;++s)(o=i[s])&&o.parentNode.replaceChild(f[s],o)}return 1===h.childNodes.length?h.removeChild(h.firstChild):11===h.nodeType?((o=t()).appendChild(h),o):h}}const mt=pt((function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),document.importNode(t.content,!0)}),(function(){return document.createElement("span")}));function vt(e){let t;Object.defineProperties(this,{generator:{value:dt((e=>{t=e}))},value:{get:()=>e,set:n=>t(e=n)}}),void 0!==e&&t(e)}function*bt(){for(;;)yield Date.now()}var _t=new Map;function yt(e,t){var n;return(n=_t.get(e=+e))?n.then((()=>t)):(n=Date.now())>=e?Promise.resolve(t):function(e,t){var n=new Promise((function(n){_t.delete(t);var r=t-e;if(!(r>0))throw new Error("invalid time");if(r>2147483647)throw new Error("too long to wait");setTimeout(n,r)}));return _t.set(t,n),n}(n,e).then((()=>t))}const wt={delay:function(e,t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))},tick:function(e,t){return yt(Math.ceil((Date.now()+1)/e)*e,t)},when:yt};function gt(e,t){if(/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,null==t?location:t).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new Error("illegal name");return"https://unpkg.com/"+e}const xt=pt((function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e.trim(),t}),(function(){return document.createElementNS("http://www.w3.org/2000/svg","g")}));var Et=String.raw;function Ct(){return dt((function(e){var t=e(document.body.clientWidth);function n(){var n=document.body.clientWidth;n!==t&&e(t=n)}return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}))}const qt=Object.assign((function(e){const t=null==(n=e)?Ee:Ce(n);var n,r;Object.defineProperties(this,(r={FileAttachment:()=>tt,Arrow:()=>t(He.resolve()),Inputs:()=>t(ke.resolve()),Mutable:()=>vt,Plot:()=>t(Le.resolve()),SQLite:()=>We(t),SQLiteDatabaseClient:()=>Ve,_:()=>t(Ue.resolve()),d3:()=>t(Pe.resolve()),dot:()=>t(Oe.resolve()),htl:()=>t(Re.resolve()),html:()=>mt,md:()=>function(e){return e(Ie.resolve()).then((function(t){return pt((function(n){var r=document.createElement("div");r.innerHTML=t(n,{langPrefix:""}).trim();var o=r.querySelectorAll("pre code[class]");return o.length>0&&e(Te.resolve()).then((function(t){o.forEach((function(n){function r(){t.highlightBlock(n),n.parentNode.classList.add("observablehq--md-pre")}t.getLanguage(n.className)?r():e(Te.resolve("async-languages/index.js")).then((r=>{if(r.has(n.className))return e(Te.resolve("async-languages/"+r.get(n.className))).then((e=>{t.registerLanguage(n.className,e)}))})).then(r,r)}))})),r}),(function(){return document.createElement("div")}))}))}(t),now:bt,require:()=>t,resolve:()=>gt,svg:()=>xt,tex:()=>function(e){return Promise.all([e($e.resolve()),(t=$e.resolve("dist/katex.min.css"),new Promise((function(e,n){var r=document.createElement("link");r.rel="stylesheet",r.href=t,r.onerror=n,r.onload=e,document.head.appendChild(r)})))]).then((function(e){var t=e[0],n=r();function r(e){return function(){var n=document.createElement("div");return t.render(Et.apply(String,arguments),n,e),n.removeChild(n.firstChild)}}return n.options=r,n.block=r({displayMode:!0}),n}));var t}(t),vl:()=>async function(e){const[t,n,r]=await Promise.all([Fe,ze,Be].map((t=>e(t.resolve()))));return r.register(t,n)}(t),width:Ct,DOM:st,Files:lt,Generators:ht,Promises:wt},Object.fromEntries(Object.entries(r).map(jt))))}),{resolve:Ee.resolve});function jt([e,t]){return[e,{value:t,writable:!0,enumerable:!0}]}function Nt(e,t){this.message=e+"",this.input=t}Nt.prototype=Object.create(Error.prototype),Nt.prototype.name="RuntimeError",Nt.prototype.constructor=Nt;var Mt=Array.prototype,St=Mt.map,Pt=Mt.forEach;function At(e){return function(){return e}}function kt(e){return e}function Lt(){}var Ot={};function Tt(e,t,n){var r;n||(n=Ot),Object.defineProperties(this,{_observer:{value:n,writable:!0},_definition:{value:Rt,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:NaN,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:Lt,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Promise.resolve(void 0),writable:!0},_reachable:{value:n!==Ot,writable:!0},_rejector:{value:(r=this,function(e){if(e===Rt)throw new Nt(r._name+" is not defined",r._name);if(e instanceof Error&&e.message)throw new Nt(e.message,r._name);throw new Nt(r._name+" could not be resolved",r._name)})},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}function $t(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}function Ut(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}function Rt(){throw Rt}function It(e){return function(){throw new Nt(e+" is defined more than once")}}function Dt(e,t,n){var r=this._module._scope,o=this._module._runtime;if(this._inputs.forEach(Ut,this),t.forEach($t,this),this._inputs=t,this._definition=n,this._value=void 0,n===Lt?o._variables.delete(this):o._variables.add(this),e!==this._name||r.get(e)!==this){var i,a;if(this._name)if(this._outputs.size)r.delete(this._name),(a=this._module._resolve(this._name))._outputs=this._outputs,this._outputs=new Set,a._outputs.forEach((function(e){e._inputs[e._inputs.indexOf(this)]=a}),this),a._outputs.forEach(o._updates.add,o._updates),o._dirty.add(a).add(this),r.set(this._name,a);else if((a=r.get(this._name))===this)r.delete(this._name);else{if(3!==a._type)throw new Error;a._duplicates.delete(this),this._duplicate=void 0,1===a._duplicates.size&&(a=a._duplicates.keys().next().value,i=r.get(this._name),a._outputs=i._outputs,i._outputs=new Set,a._outputs.forEach((function(e){e._inputs[e._inputs.indexOf(i)]=a})),a._definition=a._duplicate,a._duplicate=void 0,o._dirty.add(i).add(a),o._updates.add(a),r.set(this._name,a))}if(this._outputs.size)throw new Error;e&&((a=r.get(e))?3===a._type?(this._definition=It(e),this._duplicate=n,a._duplicates.add(this)):2===a._type?(this._outputs=a._outputs,a._outputs=new Set,this._outputs.forEach((function(e){e._inputs[e._inputs.indexOf(a)]=this}),this),o._dirty.add(a).add(this),r.set(e,this)):(a._duplicate=a._definition,this._duplicate=n,(i=new Tt(3,this._module))._name=e,i._definition=this._definition=a._definition=It(e),i._outputs=a._outputs,a._outputs=new Set,i._outputs.forEach((function(e){e._inputs[e._inputs.indexOf(a)]=i})),i._duplicates=new Set([this,a]),o._dirty.add(a).add(i),o._updates.add(a).add(i),r.set(e,i)):r.set(e,this)),this._name=e}return o._updates.add(this),o._compute(),this}function Ft(e,t=[]){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map},_builtins:{value:new Map([["invalidation",Ht],["visibility",Wt],...t])},_source:{value:null,writable:!0}})}function zt(e){return e._name}Object.defineProperties(Tt.prototype,{_pending:{value:function(){this._observer.pending&&this._observer.pending()},writable:!0,configurable:!0},_fulfilled:{value:function(e){this._observer.fulfilled&&this._observer.fulfilled(e,this._name)},writable:!0,configurable:!0},_rejected:{value:function(e){this._observer.rejected&&this._observer.rejected(e,this._name)},writable:!0,configurable:!0},define:{value:function(e,t,n){switch(arguments.length){case 1:n=e,e=t=null;break;case 2:n=t,"string"==typeof e?t=null:(t=e,e=null)}return Dt.call(this,null==e?null:e+"",null==t?[]:St.call(t,this._module._resolve,this._module),"function"==typeof n?n:At(n))},writable:!0,configurable:!0},delete:{value:function(){return Dt.call(this,null,[],Lt)},writable:!0,configurable:!0},import:{value:function(e,t,n){return arguments.length<3&&(n=t,t=e),Dt.call(this,t+"",[n._resolve(e+"")],kt)},writable:!0,configurable:!0}}),Object.defineProperties(Ft.prototype,{_copy:{value:function(e,t){e._source=this,t.set(this,e);for(const[i,a]of this._scope){var n=e._scope.get(i);if(!n||1!==n._type)if(a._definition===kt){var r=a._inputs[0],o=r._module;e.import(r._name,i,t.get(o)||(o._source?o._copy(new Ft(e._runtime,e._builtins),t):o))}else e.define(i,a._inputs.map(zt),a._definition)}return e},writable:!0,configurable:!0},_resolve:{value:function(e){var t,n,r=this._scope.get(e);if(!r)if(r=new Tt(2,this),this._builtins.has(e))r.define(e,At(this._builtins.get(e)));else if(this._runtime._builtin._scope.has(e))r.import(e,this._runtime._builtin);else{try{t=this._runtime._global(e)}catch(t){return r.define(e,(n=t,function(){throw n}))}void 0===t?this._scope.set(r._name=e,r):r.define(e,At(t))}return r},writable:!0,configurable:!0},redefine:{value:function(e){var t=this._scope.get(e);if(!t)throw new Nt(e+" is not defined");if(3===t._type)throw new Nt(e+" is defined more than once");return t.define.apply(t,arguments)},writable:!0,configurable:!0},define:{value:function(){var e=new Tt(1,this);return e.define.apply(e,arguments)},writable:!0,configurable:!0},derive:{value:function(e,t){var n=new Ft(this._runtime,this._builtins);return n._source=this,Pt.call(e,(function(e){"object"!=typeof e&&(e={name:e+""}),null==e.alias&&(e.alias=e.name),n.import(e.name,e.alias,t)})),Promise.resolve().then((()=>{const e=new Set([this]);for(const t of e)for(const n of t._scope.values())if(n._definition===kt){const t=n._inputs[0]._module,r=t._source||t;if(r===this)return void console.warn("circular module definition; ignoring");e.add(r)}this._copy(n,new Map)})),n},writable:!0,configurable:!0},import:{value:function(){var e=new Tt(1,this);return e.import.apply(e,arguments)},writable:!0,configurable:!0},value:{value:async function(e){var t=this._scope.get(e);if(!t)throw new Nt(e+" is not defined");return t._observer===Ot&&(t._observer=!0,this._runtime._dirty.add(t)),await this._runtime._compute(),t._promise},writable:!0,configurable:!0},variable:{value:function(e){return new Tt(1,this,e)},writable:!0,configurable:!0},builtin:{value:function(e,t){this._builtins.set(e,t)},writable:!0,configurable:!0}});const Bt="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;var Ht={},Wt={};function Vt(e=new qt,t=nn){var n=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_computing:{value:null,writable:!0},_init:{value:null,writable:!0},_modules:{value:new Map},_variables:{value:new Set},_disposed:{value:!1,writable:!0},_builtin:{value:n},_global:{value:t}}),e)for(var r in e)new Tt(2,n).define(r,[],e[r])}function Zt(e){const t=new Set(e._inputs);for(const n of t){if(n===e)return!0;n._inputs.forEach(t.add,t)}return!1}function Jt(e){++e._indegree}function Yt(e){--e._indegree}function Gt(e){return e._promise.catch(e._rejector)}function Kt(e){return new Promise((function(t){e._invalidate=t}))}function Qt(e,t){let n,r,o="function"==typeof IntersectionObserver&&t._observer&&t._observer._node,i=!o,a=Lt,s=Lt;return o&&(r=new IntersectionObserver((([e])=>(i=e.isIntersecting)&&(n=null,a()))),r.observe(o),e.then((()=>(r.disconnect(),r=null,s())))),function(e){return i?Promise.resolve(e):r?(n||(n=new Promise(((e,t)=>(a=e,s=t)))),n.then((()=>e))):Promise.reject()}}function Xt(e){e._invalidate(),e._invalidate=Lt,e._pending();var t=e._value,n=++e._version,r=null,o=e._promise=Promise.all(e._inputs.map(Gt)).then((function(o){if(e._version===n){for(var i=0,a=o.length;i<a;++i)switch(o[i]){case Ht:o[i]=r=Kt(e);break;case Wt:r||(r=Kt(e)),o[i]=Qt(r,e)}return e._definition.apply(t,o)}})).then((function(t){return function(e){return e&&"function"==typeof e.next&&"function"==typeof e.return}(t)?e._version!==n?void t.return():((r||Kt(e)).then((i=t,function(){i.return()})),function(e,t,n,r){function o(){var n=new Promise((function(e){e(r.next())})).then((function(r){return r.done?void 0:Promise.resolve(r.value).then((function(r){if(e._version===t)return en(e,r,n).then(o),e._fulfilled(r),r}))}));n.catch((function(r){e._version===t&&(en(e,void 0,n),e._rejected(r))}))}return new Promise((function(e){e(r.next())})).then((function(e){if(!e.done)return n.then(o),e.value}))}(e,n,o,t)):t;var i}));o.then((function(t){e._version===n&&(e._value=t,e._fulfilled(t))}),(function(t){e._version===n&&(e._value=void 0,e._rejected(t))}))}function en(e,t,n){var r=e._module._runtime;return e._value=t,e._promise=n,e._outputs.forEach(r._updates.add,r._updates),r._compute()}function tn(e,t){e._invalidate(),e._invalidate=Lt,e._pending(),++e._version,e._indegree=NaN,(e._promise=Promise.reject(t)).catch(Lt),e._value=void 0,e._rejected(t)}function nn(e){return window[e]}function rn(e,t,n){return null===e.input&&(e.input={}),(void 0===e.input.width||e.width_updated)&&e.update_width&&(e.input.width=n,e.width_updated=!0),(void 0===e.input.height||e.height_updated)&&e.update_height&&(e.input.height=t,e.height_updated=!0),e}Object.defineProperties(Vt,{load:{value:function(e,t,n){if("function"==typeof t&&(n=t,t=null),"function"!=typeof n)throw new Error("invalid observer");null==t&&(t=new qt);const{modules:r,id:o}=e,i=new Map,a=new Vt(t),s=l(o);function l(e){let t=i.get(e);return t||i.set(e,t=a.module()),t}for(const e of r){const t=l(e.id);let r=0;for(const o of e.variables)o.from?t.import(o.remote,o.name,l(o.from)):t===s?t.variable(n(o,r,e.variables)).define(o.name,o.inputs,o.value):t.define(o.name,o.inputs,o.value),++r}return a},writable:!0,configurable:!0}}),Object.defineProperties(Vt.prototype,{_compute:{value:function(){return this._computing||(this._computing=this._computeSoon())},writable:!0,configurable:!0},_computeSoon:{value:function(){var e=this;return new Promise((function(t){Bt((function(){t(),e._disposed||e._computeNow()}))}))},writable:!0,configurable:!0},_computeNow:{value:function(){var e,t,n=[];(e=new Set(this._dirty)).forEach((function(t){t._inputs.forEach(e.add,e);const n=function(e){if(e._observer!==Ot)return!0;var t=new Set(e._outputs);for(const e of t){if(e._observer!==Ot)return!0;e._outputs.forEach(t.add,t)}return!1}(t);n>t._reachable?this._updates.add(t):n<t._reachable&&t._invalidate(),t._reachable=n}),this),(e=new Set(this._updates)).forEach((function(t){t._reachable?(t._indegree=0,t._outputs.forEach(e.add,e)):(t._indegree=NaN,e.delete(t))})),this._computing=null,this._updates.clear(),this._dirty.clear(),e.forEach((function(e){e._outputs.forEach(Jt)}));do{for(e.forEach((function(e){0===e._indegree&&n.push(e)}));t=n.pop();)Xt(t),t._outputs.forEach(r),e.delete(t);e.forEach((function(t){Zt(t)&&(tn(t,new Nt("circular definition")),t._outputs.forEach(Yt),e.delete(t))}))}while(e.size);function r(e){0==--e._indegree&&n.push(e)}},writable:!0,configurable:!0},dispose:{value:function(){this._computing=Promise.resolve(),this._disposed=!0,this._variables.forEach((e=>{e._invalidate(),e._version=NaN}))},writable:!0,configurable:!0},module:{value:function(e,t=Lt){let n;if(void 0===e)return(n=this._init)?(this._init=null,n):new Ft(this);if(n=this._modules.get(e),n)return n;this._init=n=new Ft(this),this._modules.set(e,n);try{e(this,t)}finally{this._init=null}return n},writable:!0,configurable:!0},fileAttachments:{value:function(e){return Object.assign((t=>{const n=e(t+="");if(null==n)throw new Error(`File not found: ${t}`);return new et(n,t)}),{prototype:et.prototype})},writable:!0,configurable:!0}});class on{constructor(e,t,n){if(void 0===n)throw new Error("Cannot be called directly");this.el=e,this._params=t,this._params.current_observers={},this.output_divs=new Map,this.num_cells=1;let r=new Vt,o=this.build_inspector();this.main=r.module(n,o),null===this.params.include&&null!==this.params.hide&&this.hide_cells()}static async build(e,t){const n="http"==(r=t.notebook).slice(0,4)?r.replace("://observablehq","://api.observablehq")+".js?v=3":"@"==r.slice(0,1)||"d/"==r.slice(0,2)?`https://api.observablehq.com/${r}.js?v=3`:`https://api.observablehq.com/d/${r}.js?v=3`;var r;let o=await import(n);return new on(e,t,o.default)}build_inspector(){if(null!==this.params.include){const e=Array.isArray(this.params.include)?this.params.include:[this.params.include];return t=>{let n;if(e.includes(t)){n=this.create_output_div(t);const e=new ue(n);return{pending(){const n=new Event("robservable-"+t+"-pending");e.pending(),document.dispatchEvent(n)},fulfilled(n){const r=new Event("robservable-"+t+"-fulfilled");e.fulfilled(n),document.dispatchEvent(r)},rejected(n){const r=new Event("robservable-"+t+"-rejected");e.rejected(n),document.dispatchEvent(r)}}}if((void 0===t||""===t)&&(e.includes(this.num_cells)||e.includes(String(this.num_cells))))return n=this.create_output_div(),new ue(n);this.num_cells++}}return ue.into(this.el)}get params(){return this._params}set params(e){this._params=e,this.set_variable_observers(),this.update_variables()}create_output_div(e){const t=this.num_cells;let n=(void 0===e||""===e?"unnamed-"+this.num_cells:e).replace(/[!\"#$%&'\(\)\*\+,\.\/:;<=>\?\@\[\\\]\^`\{\|\}~\s]/g,"_");const r=Array.isArray(this.params.hide)?this.params.hide:[this.params.hide];let o=document.createElement("div");return o.className=n,(r.includes(e)||r.includes(t)||r.includes(String(t)))&&(o.style.display="none"),this.el.appendChild(o),this.output_divs.set(e,o),this.num_cells++,o}hide_cells(){const e=Array.isArray(this.params.hide)?this.params.hide:[this.params.hide],t=this.el.querySelectorAll(".observablehq");e.forEach((e=>{try{t[e].style.display="none"}catch(e){}}))}add_observer(e){let t=this.main.variable({fulfilled(e,t){console.log(e,t),null!==t&&HTMLWidgets.shinyMode&&Shiny.setInputValue(t.replace(/robservable_/,""),e)}}).define(this.el.id+"_robservable_"+e,[e],(e=>e));this.params.current_observers[e]=t}set_variable_observers(){let e=Array.isArray(this.params.observers)?this.params.observers:[this.params.observers];this.params.observers||(e=[]);let t=Object.keys(this.params.current_observers);e.forEach((e=>{t.includes(e)||this.add_observer(e)}))}update_variables(){let e=this.params.input;e=null===e?{}:e,Object.entries(e).forEach((([e,t])=>{try{this.main.redefine(e,t)}catch(t){console.warn(`Can't update ${e} variable : ${t.message}`)}}));let t=this.params.input_js;t=null===t?{}:t,Object.entries(t).forEach((([e,t])=>{null===t.inputs&&(t.inputs=[]),Array.isArray(t.inputs)||(t.inputs=[t.inputs]);try{this.main.redefine(e,t.inputs,t.definition)}catch(t){console.warn(`Can't update ${e} cell : ${t.message}`)}}))}}HTMLWidgets;var an=n(379),sn=n.n(an),ln=n(795),un=n.n(ln),cn=n(569),dn=n.n(cn),fn=n(565),hn=n.n(fn),pn=n(216),mn=n.n(pn),vn=n(589),bn=n.n(vn),_n=n(874),yn={};yn.styleTagTransform=bn(),yn.setAttributes=hn(),yn.insert=dn().bind(null,"head"),yn.domAPI=un(),yn.insertStyleElement=mn(),sn()(_n.Z,yn),_n.Z&&_n.Z.locals&&_n.Z.locals,HTMLWidgets.widget({name:"robservable",type:"output",factory:function(e,t,n){return HTMLWidgets.shinyMode||(document.querySelector("body").style.overflow="auto",document.querySelector("body").style.width="auto"),e.width=t,e.height=n,{renderValue(t){let n=e.module;void 0===n||n.params.notebook!==t.notebook?on.build(e,t).then((n=>{t=rn(t,e.height,e.width),n.params=t,e.module=n,this.queuedMethods.length>0&&(this.queuedMethods.forEach((e=>{this[e.method]&&this[e.method](e.args)})),this.queuedMethods=[])})):(t.current_observers=n.params.current_observers,e.module.params=t)},resize(t,n){if(void 0===e.module)return;e.width=t,e.height=n;let r=e.module.params;r=rn(r,e.height,e.width),e.module.params=r},update(t){e.hasOwnProperty("module")?(e.module.params.input=t,e.module.update_variables()):this.queuedMethods.push({method:"update",args:t})},observe(t){e.hasOwnProperty("module")?(e.module.params.observers=t,e.module.set_variable_observers()):this.queuedMethods.push({method:"observe",args:t})},queuedMethods:[]}}}),HTMLWidgets.shinyMode&&Shiny.addCustomMessageHandler("robservable-calls",(function(e){var t=e.id,n=document.getElementById(t)?HTMLWidgets.find("#"+t):null;if(n)for(var r=0;r<e.calls.length;r++){var o=e.calls[r];o.dependencies&&Shiny.renderDependencies(o.dependencies),n[o.method]?n[o.method](o.args):console.log("Unknown method "+o.method)}else console.log("Couldn't find robservable with id "+t)}))})()})();