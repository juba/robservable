(()=>{var e={1187:(e,t,n)=>{var r={"./arquero.js":9391,"./arrow.js":7938,"./dependencies.js":7363,"./dependency.js":170,"./dom/canvas.js":6342,"./dom/context2d.js":9733,"./dom/download.js":2938,"./dom/element.js":3380,"./dom/index.js":1820,"./dom/input.js":7585,"./dom/range.js":7170,"./dom/select.js":1106,"./dom/svg.js":5895,"./dom/text.js":281,"./dom/uid.js":1831,"./duckdb.js":3874,"./fileAttachment.js":7026,"./files/buffer.js":3825,"./files/index.js":6155,"./files/text.js":2720,"./files/url.js":2174,"./generators/disposable.js":2238,"./generators/filter.js":7254,"./generators/index.js":6785,"./generators/input.js":8044,"./generators/map.js":3921,"./generators/observe.js":1367,"./generators/queue.js":9042,"./generators/range.js":2707,"./generators/valueAt.js":5890,"./generators/worker.js":8179,"./html.js":6566,"./index.js":7138,"./leaflet.js":3861,"./library.js":4739,"./md.js":1715,"./mermaid.js":8843,"./mutable.js":221,"./now.js":3666,"./promises/delay.js":2984,"./promises/index.js":5898,"./promises/tick.js":2989,"./promises/when.js":7782,"./require.js":9204,"./resolve.js":5545,"./sqlite.js":4054,"./svg.js":4745,"./table.js":5040,"./template.js":9225,"./tex.js":667,"./that.js":5243,"./vegalite.js":423,"./width.js":282,"./xlsx.js":538};function o(e){return Promise.resolve().then((()=>{if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n(r[e])}))}o.keys=()=>Object.keys(r),o.id=1187,e.exports=o},9233:(e,t,n)=>{var r=n(405);e.exports=r},454:(e,t,n)=>{n(6992),n(8559);var r=n(857);e.exports=r.Object.fromEntries},6554:(e,t,n)=>{var r=n(9233);e.exports=r},9662:(e,t,n)=>{var r=n(7854),o=n(614),a=n(6330),i=r.TypeError;e.exports=function(e){if(o(e))return e;throw i(a(e)+" is not a function")}},6077:(e,t,n)=>{var r=n(7854),o=n(614),a=r.String,i=r.TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw i("Can't set "+a(e)+" as a prototype")}},1223:(e,t,n)=>{var r=n(5112),o=n(30),a=n(3070),i=r("unscopables"),s=Array.prototype;null==s[i]&&a.f(s,i,{configurable:!0,value:o(null)}),e.exports=function(e){s[i][e]=!0}},9670:(e,t,n)=>{var r=n(7854),o=n(111),a=r.String,i=r.TypeError;e.exports=function(e){if(o(e))return e;throw i(a(e)+" is not an object")}},1318:(e,t,n)=>{var r=n(5656),o=n(1400),a=n(6244),i=function(e){return function(t,n,i){var s,c=r(t),u=a(c),l=o(i,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},4326:(e,t,n)=>{var r=n(1702),o=r({}.toString),a=r("".slice);e.exports=function(e){return a(o(e),8,-1)}},648:(e,t,n)=>{var r=n(7854),o=n(1694),a=n(614),i=n(4326),s=n(5112)("toStringTag"),c=r.Object,u="Arguments"==i(function(){return arguments}());e.exports=o?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=c(e),s))?n:u?i(t):"Object"==(r=i(t))&&a(t.callee)?"Arguments":r}},9920:(e,t,n)=>{var r=n(2597),o=n(3887),a=n(1236),i=n(3070);e.exports=function(e,t,n){for(var s=o(t),c=i.f,u=a.f,l=0;l<s.length;l++){var f=s[l];r(e,f)||n&&r(n,f)||c(e,f,u(t,f))}}},8544:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:(e,t,n)=>{"use strict";var r=n(3383).IteratorPrototype,o=n(30),a=n(9114),i=n(8003),s=n(7497),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=o(r,{next:a(+!u,n)}),i(e,l,!1,!0),s[l]=c,e}},8880:(e,t,n)=>{var r=n(9781),o=n(3070),a=n(9114);e.exports=r?function(e,t,n){return o.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var r=n(4948),o=n(3070),a=n(9114);e.exports=function(e,t,n){var i=r(t);i in e?o.f(e,i,a(0,n)):e[i]=n}},654:(e,t,n)=>{"use strict";var r=n(2109),o=n(6916),a=n(1913),i=n(6530),s=n(614),c=n(4994),u=n(9518),l=n(7674),f=n(8003),d=n(8880),p=n(1320),h=n(5112),m=n(7497),b=n(3383),v=i.PROPER,y=i.CONFIGURABLE,w=b.IteratorPrototype,g=b.BUGGY_SAFARI_ITERATORS,_=h("iterator"),x="keys",E="values",j="entries",A=function(){return this};e.exports=function(e,t,n,i,h,b,T){c(n,t,i);var S,C,q,O=function(e){if(e===h&&P)return P;if(!g&&e in L)return L[e];switch(e){case x:case E:case j:return function(){return new n(this,e)}}return function(){return new n(this)}},N=t+" Iterator",k=!1,L=e.prototype,M=L[_]||L["@@iterator"]||h&&L[h],P=!g&&M||O(h),$="Array"==t&&L.entries||M;if($&&(S=u($.call(new e)))!==Object.prototype&&S.next&&(a||u(S)===w||(l?l(S,w):s(S[_])||p(S,_,A)),f(S,N,!0,!0),a&&(m[N]=A)),v&&h==E&&M&&M.name!==E&&(!a&&y?d(L,"name",E):(k=!0,P=function(){return o(M,this)})),h)if(C={values:O(E),keys:b?P:O(x),entries:O(j)},T)for(q in C)(g||k||!(q in L))&&p(L,q,C[q]);else r({target:t,proto:!0,forced:g||k},C);return a&&!T||L[_]===P||p(L,_,P,{name:h}),m[t]=P,C}},9781:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var r=n(7854),o=n(111),a=r.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,n)=>{var r=n(317)("span").classList,o=r&&r.constructor&&r.constructor.prototype;e.exports=o===Object.prototype?void 0:o},8113:(e,t,n)=>{var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:(e,t,n)=>{var r,o,a=n(7854),i=n(8113),s=a.process,c=a.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var r=n(7854),o=n(1236).f,a=n(8880),i=n(1320),s=n(3505),c=n(9920),u=n(4705);e.exports=function(e,t){var n,l,f,d,p,h=e.target,m=e.global,b=e.stat;if(n=m?r:b?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(d=t[l],f=e.noTargetGet?(p=o(n,l))&&p.value:n[l],!u(m?l:h+(b?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),i(n,l,d,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9974:(e,t,n)=>{var r=n(1702),o=n(9662),a=n(4374),i=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:a?i(e,t):function(){return e.apply(t,arguments)}}},4374:(e,t,n)=>{var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,n)=>{var r=n(4374),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},6530:(e,t,n)=>{var r=n(9781),o=n(2597),a=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,s=o(a,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&i(a,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},1702:(e,t,n)=>{var r=n(4374),o=Function.prototype,a=o.bind,i=o.call,s=r&&a.bind(i,i);e.exports=r?function(e){return e&&s(e)}:function(e){return e&&function(){return i.apply(e,arguments)}}},5005:(e,t,n)=>{var r=n(7854),o=n(614),a=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e]):r[e]&&r[e][t]}},1246:(e,t,n)=>{var r=n(648),o=n(8173),a=n(7497),i=n(5112)("iterator");e.exports=function(e){if(null!=e)return o(e,i)||o(e,"@@iterator")||a[r(e)]}},8554:(e,t,n)=>{var r=n(7854),o=n(6916),a=n(9662),i=n(9670),s=n(6330),c=n(1246),u=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?c(e):t;if(a(n))return i(o(n,e));throw u(s(e)+" is not iterable")}},8173:(e,t,n)=>{var r=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},7854:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(e,t,n)=>{var r=n(1702),o=n(7908),a=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(o(e),t)}},3501:e=>{e.exports={}},490:(e,t,n)=>{var r=n(5005);e.exports=r("document","documentElement")},4664:(e,t,n)=>{var r=n(9781),o=n(7293),a=n(317);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var r=n(7854),o=n(1702),a=n(7293),i=n(4326),s=r.Object,c=o("".split);e.exports=a((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?c(e,""):s(e)}:s},2788:(e,t,n)=>{var r=n(1702),o=n(614),a=n(5465),i=r(Function.toString);o(a.inspectSource)||(a.inspectSource=function(e){return i(e)}),e.exports=a.inspectSource},9909:(e,t,n)=>{var r,o,a,i=n(8536),s=n(7854),c=n(1702),u=n(111),l=n(8880),f=n(2597),d=n(5465),p=n(6200),h=n(3501),m="Object already initialized",b=s.TypeError,v=s.WeakMap;if(i||d.state){var y=d.state||(d.state=new v),w=c(y.get),g=c(y.has),_=c(y.set);r=function(e,t){if(g(y,e))throw new b(m);return t.facade=e,_(y,e,t),t},o=function(e){return w(y,e)||{}},a=function(e){return g(y,e)}}else{var x=p("state");h[x]=!0,r=function(e,t){if(f(e,x))throw new b(m);return t.facade=e,l(e,x,t),t},o=function(e){return f(e,x)?e[x]:{}},a=function(e){return f(e,x)}}e.exports={set:r,get:o,has:a,enforce:function(e){return a(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw b("Incompatible receiver, "+e+" required");return n}}}},7659:(e,t,n)=>{var r=n(5112),o=n(7497),a=r("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[a]===e)}},614:e=>{e.exports=function(e){return"function"==typeof e}},4705:(e,t,n)=>{var r=n(7293),o=n(614),a=/#|\.prototype\./,i=function(e,t){var n=c[s(e)];return n==l||n!=u&&(o(t)?r(t):!!t)},s=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},111:(e,t,n)=>{var r=n(614);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},1913:e=>{e.exports=!1},2190:(e,t,n)=>{var r=n(7854),o=n(5005),a=n(614),i=n(7976),s=n(3307),c=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return a(t)&&i(t.prototype,c(e))}},408:(e,t,n)=>{var r=n(7854),o=n(9974),a=n(6916),i=n(9670),s=n(6330),c=n(7659),u=n(6244),l=n(7976),f=n(8554),d=n(1246),p=n(9212),h=r.TypeError,m=function(e,t){this.stopped=e,this.result=t},b=m.prototype;e.exports=function(e,t,n){var r,v,y,w,g,_,x,E=n&&n.that,j=!(!n||!n.AS_ENTRIES),A=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),S=o(t,E),C=function(e){return r&&p(r,"normal",e),new m(!0,e)},q=function(e){return j?(i(e),T?S(e[0],e[1],C):S(e[0],e[1])):T?S(e,C):S(e)};if(A)r=e;else{if(!(v=d(e)))throw h(s(e)+" is not iterable");if(c(v)){for(y=0,w=u(e);w>y;y++)if((g=q(e[y]))&&l(b,g))return g;return new m(!1)}r=f(e,v)}for(_=r.next;!(x=a(_,r)).done;){try{g=q(x.value)}catch(e){p(r,"throw",e)}if("object"==typeof g&&g&&l(b,g))return g}return new m(!1)}},9212:(e,t,n)=>{var r=n(6916),o=n(9670),a=n(8173);e.exports=function(e,t,n){var i,s;o(e);try{if(!(i=a(e,"return"))){if("throw"===t)throw n;return n}i=r(i,e)}catch(e){s=!0,i=e}if("throw"===t)throw n;if(s)throw i;return o(i),n}},3383:(e,t,n)=>{"use strict";var r,o,a,i=n(7293),s=n(614),c=n(30),u=n(9518),l=n(1320),f=n(5112),d=n(1913),p=f("iterator"),h=!1;[].keys&&("next"in(a=[].keys())?(o=u(u(a)))!==Object.prototype&&(r=o):h=!0),null==r||i((function(){var e={};return r[p].call(e)!==e}))?r={}:d&&(r=c(r)),s(r[p])||l(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},7497:e=>{e.exports={}},6244:(e,t,n)=>{var r=n(7466);e.exports=function(e){return r(e.length)}},133:(e,t,n)=>{var r=n(7392),o=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:(e,t,n)=>{var r=n(7854),o=n(614),a=n(2788),i=r.WeakMap;e.exports=o(i)&&/native code/.test(a(i))},30:(e,t,n)=>{var r,o=n(9670),a=n(6048),i=n(748),s=n(3501),c=n(490),u=n(317),l=n(6200)("IE_PROTO"),f=function(){},d=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&r?p(r):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):p(r);for(var n=i.length;n--;)delete h.prototype[i[n]];return h()};s[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=o(e),n=new f,f.prototype=null,n[l]=e):n=h(),void 0===t?n:a.f(n,t)}},6048:(e,t,n)=>{var r=n(9781),o=n(3353),a=n(3070),i=n(9670),s=n(5656),c=n(1956);t.f=r&&!o?Object.defineProperties:function(e,t){i(e);for(var n,r=s(t),o=c(t),u=o.length,l=0;u>l;)a.f(e,n=o[l++],r[n]);return e}},3070:(e,t,n)=>{var r=n(7854),o=n(9781),a=n(4664),i=n(3353),s=n(9670),c=n(4948),u=r.TypeError,l=Object.defineProperty,f=Object.getOwnPropertyDescriptor;t.f=o?i?function(e,t,n){if(s(e),t=c(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var r=f(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=c(t),s(n),a)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var r=n(9781),o=n(6916),a=n(5296),i=n(9114),s=n(5656),c=n(4948),u=n(2597),l=n(4664),f=Object.getOwnPropertyDescriptor;t.f=r?f:function(e,t){if(e=s(e),t=c(t),l)try{return f(e,t)}catch(e){}if(u(e,t))return i(!o(a.f,e,t),e[t])}},8006:(e,t,n)=>{var r=n(6324),o=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var r=n(7854),o=n(2597),a=n(614),i=n(7908),s=n(6200),c=n(8544),u=s("IE_PROTO"),l=r.Object,f=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=i(e);if(o(t,u))return t[u];var n=t.constructor;return a(n)&&t instanceof n?n.prototype:t instanceof l?f:null}},7976:(e,t,n)=>{var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:(e,t,n)=>{var r=n(1702),o=n(2597),a=n(5656),i=n(1318).indexOf,s=n(3501),c=r([].push);e.exports=function(e,t){var n,r=a(e),u=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&c(l,n);for(;t.length>u;)o(r,n=t[u++])&&(~i(l,n)||c(l,n));return l}},1956:(e,t,n)=>{var r=n(6324),o=n(748);e.exports=Object.keys||function(e){return r(e,o)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var r=n(1702),o=n(9670),a=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),a(r),t?e(n,r):n.__proto__=r,n}}():void 0)},2140:(e,t,n)=>{var r=n(7854),o=n(6916),a=n(614),i=n(111),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&a(n=e.toString)&&!i(r=o(n,e)))return r;if(a(n=e.valueOf)&&!i(r=o(n,e)))return r;if("string"!==t&&a(n=e.toString)&&!i(r=o(n,e)))return r;throw s("Can't convert object to primitive value")}},3887:(e,t,n)=>{var r=n(5005),o=n(1702),a=n(8006),i=n(5181),s=n(9670),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=i.f;return n?c(t,n(e)):t}},857:(e,t,n)=>{var r=n(7854);e.exports=r},1320:(e,t,n)=>{var r=n(7854),o=n(614),a=n(2597),i=n(8880),s=n(3505),c=n(2788),u=n(9909),l=n(6530).CONFIGURABLE,f=u.get,d=u.enforce,p=String(String).split("String");(e.exports=function(e,t,n,c){var u,f=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,m=!!c&&!!c.noTargetGet,b=c&&void 0!==c.name?c.name:t;o(n)&&("Symbol("===String(b).slice(0,7)&&(b="["+String(b).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!a(n,"name")||l&&n.name!==b)&&i(n,"name",b),(u=d(n)).source||(u.source=p.join("string"==typeof b?b:""))),e!==r?(f?!m&&e[t]&&(h=!0):delete e[t],h?e[t]=n:i(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||c(this)}))},4488:(e,t,n)=>{var r=n(7854).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},3505:(e,t,n)=>{var r=n(7854),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},8003:(e,t,n)=>{var r=n(3070).f,o=n(2597),a=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!o(e,a)&&r(e,a,{configurable:!0,value:t})}},6200:(e,t,n)=>{var r=n(2309),o=n(9711),a=r("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},5465:(e,t,n)=>{var r=n(7854),o=n(3505),a="__core-js_shared__",i=r[a]||o(a,{});e.exports=i},2309:(e,t,n)=>{var r=n(1913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:(e,t,n)=>{var r=n(9303),o=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):a(n,t)}},5656:(e,t,n)=>{var r=n(8361),o=n(4488);e.exports=function(e){return r(o(e))}},9303:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},7466:(e,t,n)=>{var r=n(9303),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},7908:(e,t,n)=>{var r=n(7854),o=n(4488),a=r.Object;e.exports=function(e){return a(o(e))}},7593:(e,t,n)=>{var r=n(7854),o=n(6916),a=n(111),i=n(2190),s=n(8173),c=n(2140),u=n(5112),l=r.TypeError,f=u("toPrimitive");e.exports=function(e,t){if(!a(e)||i(e))return e;var n,r=s(e,f);if(r){if(void 0===t&&(t="default"),n=o(r,e,t),!a(n)||i(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},4948:(e,t,n)=>{var r=n(7593),o=n(2190);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},1694:(e,t,n)=>{var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},6330:(e,t,n)=>{var r=n(7854).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},9711:(e,t,n)=>{var r=n(1702),o=0,a=Math.random(),i=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+a,36)}},3307:(e,t,n)=>{var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,n)=>{var r=n(9781),o=n(7293);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:(e,t,n)=>{var r=n(7854),o=n(2309),a=n(2597),i=n(9711),s=n(133),c=n(3307),u=o("wks"),l=r.Symbol,f=l&&l.for,d=c?l:l&&l.withoutSetter||i;e.exports=function(e){if(!a(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&a(l,e)?u[e]=l[e]:u[e]=c&&f?f(t):d(t)}return u[e]}},6992:(e,t,n)=>{"use strict";var r=n(5656),o=n(1223),a=n(7497),i=n(9909),s=n(3070).f,c=n(654),u=n(1913),l=n(9781),f="Array Iterator",d=i.set,p=i.getterFor(f);e.exports=c(Array,"Array",(function(e,t){d(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var h=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!u&&l&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},8559:(e,t,n)=>{var r=n(2109),o=n(408),a=n(6135);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,n){a(t,e,n)}),{AS_ENTRIES:!0}),t}})},3948:(e,t,n)=>{var r=n(7854),o=n(8324),a=n(8509),i=n(6992),s=n(8880),c=n(5112),u=c("iterator"),l=c("toStringTag"),f=i.values,d=function(e,t){if(e){if(e[u]!==f)try{s(e,u,f)}catch(t){e[u]=f}if(e[l]||s(e,l,t),o[t])for(var n in i)if(e[n]!==i[n])try{s(e,n,i[n])}catch(t){e[n]=i[n]}}};for(var p in o)d(r[p]&&r[p].prototype,p);d(a,"DOMTokenList")},405:(e,t,n)=>{var r=n(454);n(3948),e.exports=r},5905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,":root {\n  --syntax_normal: #1b1e23;\n  --syntax_comment: #a9b0bc;\n  --syntax_number: #20a5ba;\n  --syntax_keyword: #c30771;\n  --syntax_atom: #10a778;\n  --syntax_string: #008ec4;\n  --syntax_error: #ffbedc;\n  --syntax_unknown_variable: #838383;\n  --syntax_known_variable: #005f87;\n  --syntax_matchbracket: #20bbfc;\n  --syntax_key: #6636b4;\n  --mono_fonts: 82%/1.5 Menlo, Consolas, monospace;\n}\n\n.observablehq--expanded,\n.observablehq--collapsed,\n.observablehq--function,\n.observablehq--import,\n.observablehq--string:before,\n.observablehq--string:after,\n.observablehq--gray {\n  color: var(--syntax_normal);\n}\n\n.observablehq--collapsed,\n.observablehq--inspect a {\n  cursor: pointer;\n}\n\n.observablehq--field {\n  text-indent: -1em;\n  margin-left: 1em;\n}\n\n.observablehq--empty {\n  color: var(--syntax_comment);\n}\n\n.observablehq--keyword,\n.observablehq--blue {\n  color: #3182bd;\n}\n\n.observablehq--forbidden,\n.observablehq--pink {\n  color: #e377c2;\n}\n\n.observablehq--orange {\n  color: #e6550d;\n}\n\n.observablehq--null,\n.observablehq--undefined,\n.observablehq--boolean {\n  color: var(--syntax_atom);\n}\n\n.observablehq--number,\n.observablehq--bigint,\n.observablehq--date,\n.observablehq--regexp,\n.observablehq--symbol,\n.observablehq--green {\n  color: var(--syntax_number);\n}\n\n.observablehq--index,\n.observablehq--key {\n  color: var(--syntax_key);\n}\n\n.observablehq--prototype-key {\n  color: #aaa;\n}\n\n.observablehq--empty {\n  font-style: oblique;\n}\n\n.observablehq--string,\n.observablehq--purple {\n  color: var(--syntax_string);\n}\n\n.observablehq--error,\n.observablehq--red {\n  color: #e7040f;\n}\n\n.observablehq--inspect {\n  font: var(--mono_fonts);\n  overflow-x: auto;\n  display: block;\n  white-space: pre;\n}\n\n.observablehq--error .observablehq--inspect {\n  word-break: break-all;\n  white-space: pre-wrap;\n}\n",""]);const a=o},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],u=r.base?c[0]+r.base:c[0],l=a[u]||0,f="".concat(u," ").concat(l);a[u]=l+1;var d=n(f),p={css:c[1],media:c[2],sourceMap:c[3]};-1!==d?(t[d].references++,t[d].updater(p)):t.push({identifier:f,updater:o(p,r),references:1}),i.push(f)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var c=r(e,o),u=0;u<a.length;u++){var l=n(a[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r=n.css,o=n.media,a=n.sourceMap;o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9391:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.toArrowBuffer}n.r(t),n.d(t,{isArqueroTable:()=>r})},7938:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getArrowTableSchema:()=>i,isArrowTable:()=>a,loadArrow:()=>u});var r=n(7363),o=n(9204);function a(e){return e&&"function"==typeof e.getChild&&"function"==typeof e.toArray&&e.schema&&Array.isArray(e.schema.fields)}function i(e){return e.schema.fields.map(s)}function s(e){return{name:e.name,type:c(e.type),nullable:e.nullable,databaseType:String(e.type)}}function c(e){switch(e.typeId){case 2:return"integer";case 3:case 7:return"number";case 4:case 15:return"buffer";case 5:return"string";case 6:return"boolean";case 8:case 9:case 10:return"date";case 12:case 16:return"array";case 13:case 14:return"object";default:return"other"}}async function u(){return await n(1187)(`${o.cdn}${r.arrow11.resolve()}`)}},7363:(e,t,n)=>{"use strict";n.r(t),n.d(t,{arquero:()=>_,arrow11:()=>g,arrow4:()=>y,arrow9:()=>w,d3:()=>o,duckdb:()=>T,exceljs:()=>E,graphviz:()=>s,highlight:()=>c,htl:()=>f,inputs:()=>a,jszip:()=>d,katex:()=>u,leaflet:()=>A,lodash:()=>l,marked:()=>p,mermaid:()=>j,plot:()=>i,sql:()=>h,topojson:()=>x,vega:()=>m,vegalite:()=>b,vegaliteApi:()=>v});var r=n(170);const o=(0,r.dependency)("d3","7.8.4","dist/d3.min.js"),a=(0,r.dependency)("@observablehq/inputs","0.10.4","dist/inputs.min.js"),i=(0,r.dependency)("@observablehq/plot","0.6.6","dist/plot.umd.min.js"),s=(0,r.dependency)("@observablehq/graphviz","0.2.1","dist/graphviz.min.js"),c=(0,r.dependency)("@observablehq/highlight.js","2.0.0","highlight.min.js"),u=(0,r.dependency)("@observablehq/katex","0.11.1","dist/katex.min.js"),l=(0,r.dependency)("lodash","4.17.21","lodash.min.js"),f=(0,r.dependency)("htl","0.3.1","dist/htl.min.js"),d=(0,r.dependency)("jszip","3.10.1","dist/jszip.min.js"),p=(0,r.dependency)("marked","0.3.12","marked.min.js"),h=(0,r.dependency)("sql.js","1.8.0","dist/sql-wasm.js"),m=(0,r.dependency)("vega","5.22.1","build/vega.min.js"),b=(0,r.dependency)("vega-lite","5.6.0","build/vega-lite.min.js"),v=(0,r.dependency)("vega-lite-api","5.0.0","build/vega-lite-api.min.js"),y=(0,r.dependency)("apache-arrow","4.0.1","Arrow.es2015.min.js"),w=(0,r.dependency)("apache-arrow","9.0.0","+esm"),g=(0,r.dependency)("apache-arrow","11.0.0","+esm"),_=(0,r.dependency)("arquero","4.8.8","dist/arquero.min.js"),x=(0,r.dependency)("topojson-client","3.1.0","dist/topojson-client.min.js"),E=(0,r.dependency)("exceljs","4.3.0","dist/exceljs.min.js"),j=(0,r.dependency)("mermaid","9.2.2","dist/mermaid.min.js"),A=(0,r.dependency)("leaflet","1.9.3","dist/leaflet.js"),T=(0,r.dependency)("@duckdb/duckdb-wasm","1.24.0","+esm")},170:(e,t,n)=>{"use strict";function r(e,t,n){return{resolve:(r=n)=>`${e}@${t}/${r}`}}n.r(t),n.d(t,{dependency:()=>r})},6342:(e,t,n)=>{"use strict";function r(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n}n.r(t),n.d(t,{canvas:()=>r})},9733:(e,t,n)=>{"use strict";function r(e,t,n){null==n&&(n=devicePixelRatio);var r=document.createElement("canvas");r.width=e*n,r.height=t*n,r.style.width=e+"px";var o=r.getContext("2d");return o.scale(n,n),o}n.r(t),n.d(t,{context2d:()=>r})},2938:(e,t,n)=>{"use strict";function r(e,t="untitled",n="Save"){const r=document.createElement("a"),o=r.appendChild(document.createElement("button"));async function a(){await new Promise(requestAnimationFrame),URL.revokeObjectURL(r.href),r.removeAttribute("href"),o.textContent=n,o.disabled=!1}return o.textContent=n,r.download=t,r.onclick=async t=>{if(o.disabled=!0,r.href)return a();o.textContent="Saving…";try{const t=await("function"==typeof e?e():e);o.textContent="Download",r.href=URL.createObjectURL(t)}catch(e){o.textContent=n}if(t.eventPhase)return a();o.disabled=!1},r}n.r(t),n.d(t,{download:()=>r})},3380:(e,t,n)=>{"use strict";n.r(t),n.d(t,{element:()=>o});var r={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o(e,t){var n,o=e+="",a=o.indexOf(":");a>=0&&"xmlns"!==(o=e.slice(0,a))&&(e=e.slice(a+1));var i=r.hasOwnProperty(o)?document.createElementNS(r[o],e):document.createElement(e);if(t)for(var s in t)a=(o=s).indexOf(":"),n=t[s],a>=0&&"xmlns"!==(o=s.slice(0,a))&&(s=s.slice(a+1)),r.hasOwnProperty(o)?i.setAttributeNS(r[o],s,n):i.setAttribute(s,n);return i}},1820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{canvas:()=>r.canvas,context2d:()=>o.context2d,download:()=>a.download,element:()=>i.element,input:()=>s.input,range:()=>c.range,select:()=>u.select,svg:()=>l.svg,text:()=>f.text,uid:()=>d.uid});var r=n(6342),o=n(9733),a=n(2938),i=n(3380),s=n(7585),c=n(7170),u=n(1106),l=n(5895),f=n(281),d=n(1831)},7585:(e,t,n)=>{"use strict";function r(e){var t=document.createElement("input");return null!=e&&(t.type=e),t}n.r(t),n.d(t,{input:()=>r})},7170:(e,t,n)=>{"use strict";function r(e,t,n){1===arguments.length&&(t=e,e=null);var r=document.createElement("input");return r.min=e=null==e?0:+e,r.max=t=null==t?1:+t,r.step=null==n?"any":n=+n,r.type="range",r}n.r(t),n.d(t,{range:()=>r})},1106:(e,t,n)=>{"use strict";function r(e){var t=document.createElement("select");return Array.prototype.forEach.call(e,(function(e){var n=document.createElement("option");n.value=n.textContent=e,t.appendChild(n)})),t}n.r(t),n.d(t,{select:()=>r})},5895:(e,t,n)=>{"use strict";function r(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",[0,0,e,t]),n.setAttribute("width",e),n.setAttribute("height",t),n}n.r(t),n.d(t,{svg:()=>r})},281:(e,t,n)=>{"use strict";function r(e){return document.createTextNode(e)}n.r(t),n.d(t,{text:()=>r})},1831:(e,t,n)=>{"use strict";n.r(t),n.d(t,{uid:()=>o});var r=0;function o(e){return new a("O-"+(null==e?"":e+"-")+ ++r)}function a(e){this.id=e,this.href=new URL(`#${e}`,location)+""}a.prototype.toString=function(){return"url("+this.href+")"}},3874:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DuckDBClient:()=>u});var r=n(9391),o=n(7938),a=n(7363),i=n(7026),s=n(9204);let c;class u{constructor(e){Object.defineProperties(this,{_db:{value:e}})}async queryStream(e,t){const n=await this._db.connect();let r,a;try{if(t?.length>0){const o=await n.prepare(e);r=await o.send(...t)}else r=await n.send(e);if(a=await r.next(),a.done)throw new Error("missing first batch")}catch(e){throw await n.close(),e}return{schema:(0,o.getArrowTableSchema)(a.value),async*readRows(){try{for(;!a.done;)yield a.value.toArray(),a=await r.next()}finally{await n.close()}}}}async query(e,t){const n=await this.queryStream(e,t),r=[];for await(const e of n.readRows())for(const t of e)r.push(t);return r.schema=n.schema,r}async queryRow(e,t){const n=(await this.queryStream(e,t)).readRows();try{const{done:e,value:t}=await n.next();return e||!t.length?null:t[0]}finally{await n.return()}}async sql(e,...t){return await this.query(e.join("?"),t)}queryTag(e,...t){return[e.join("?"),t]}escape(e){return`"${e}"`}async describeTables(){return(await this.query("SHOW TABLES")).map((({name:e})=>({name:e})))}async describeColumns({table:e}={}){return(await this.query(`DESCRIBE ${this.escape(e)}`)).map((({column_name:e,column_type:t,null:n})=>({name:e,type:p(t),nullable:"NO"!==n,databaseType:t})))}static async of(e={},t={}){const p=await async function(){void 0===c&&(c=async function(){const e=await n(1187)(`${s.cdn}${a.duckdb.resolve()}`),t=await e.selectBundle({mvp:{mainModule:`${s.cdn}${a.duckdb.resolve("dist/duckdb-mvp.wasm")}`,mainWorker:`${s.cdn}${a.duckdb.resolve("dist/duckdb-browser-mvp.worker.js")}`},eh:{mainModule:`${s.cdn}${a.duckdb.resolve("dist/duckdb-eh.wasm")}`,mainWorker:`${s.cdn}${a.duckdb.resolve("dist/duckdb-browser-eh.worker.js")}`}}),r=new e.ConsoleLogger;return{module:e,bundle:t,logger:r}}());const{module:e,bundle:t,logger:r}=await c,o=await e.createWorker(t.mainWorker),i=new e.AsyncDuckDB(r,o);return await i.instantiate(t.mainModule),i}();return void 0===t.query?.castTimestampToDate&&(t={...t,query:{...t.query,castTimestampToDate:!0}}),void 0===t.query?.castBigIntToDouble&&(t={...t,query:{...t.query,castBigIntToDouble:!0}}),await p.open(t),await Promise.all(Object.entries(e).map((async([e,t])=>{if(t instanceof i.FileAttachment)await l(p,e,t);else if((0,o.isArrowTable)(t))await f(p,e,t);else if(Array.isArray(t))await d(p,e,t);else if((0,r.isArqueroTable)(t))await async function(e,t,n){const r=(await(0,o.loadArrow)()).tableFromIPC(n.toArrowBuffer());return await f(e,t,r)}(p,e,t);else if("data"in t){const{data:n,...r}=t;(0,o.isArrowTable)(n)?await f(p,e,n,r):await d(p,e,n,r)}else{if(!("file"in t))throw new Error(`invalid source: ${t}`);{const{file:n,...r}=t;await l(p,e,n,r)}}}))),new u(p)}}async function l(e,t,n,r){const o=await n.url();if(o.startsWith("blob:")){const t=await n.arrayBuffer();await e.registerFileBuffer(n.name,new Uint8Array(t))}else await e.registerFileURL(n.name,o,4);const a=await e.connect();try{switch(n.mimeType){case"text/csv":case"text/tab-separated-values":return await a.insertCSVFromPath(n.name,{name:t,schema:"main",...r}).catch((async e=>{if(e.toString().includes("Could not convert"))return await async function(e,t,n){const r=await e.prepare(`CREATE TABLE '${n}' AS SELECT * FROM read_csv_auto(?, ALL_VARCHAR=TRUE)`);return await r.send(t.name)}(a,n,t);throw e}));case"application/json":return await a.insertJSONFromPath(n.name,{name:t,schema:"main",...r});default:if(/\.arrow$/i.test(n.name)){const e=new Uint8Array(await n.arrayBuffer());return await a.insertArrowFromIPCStream(e,{name:t,schema:"main",...r})}if(/\.parquet$/i.test(n.name))return await a.query(`CREATE VIEW '${t}' AS SELECT * FROM parquet_scan('${n.name}')`);throw new Error(`unknown file type: ${n.mimeType}`)}}finally{await a.close()}}async function f(e,t,n,r){const o=await e.connect();try{await o.insertArrowTable(n,{name:t,schema:"main",...r})}finally{await o.close()}}async function d(e,t,n,r){const a=(await(0,o.loadArrow)()).tableFromJSON(n);return await f(e,t,a,r)}function p(e){switch(e){case"BIGINT":case"HUGEINT":case"UBIGINT":return"bigint";case"DOUBLE":case"REAL":case"FLOAT":return"number";case"INTEGER":case"SMALLINT":case"TINYINT":case"USMALLINT":case"UINTEGER":case"UTINYINT":return"integer";case"BOOLEAN":return"boolean";case"DATE":case"TIMESTAMP":case"TIMESTAMP WITH TIME ZONE":return"date";case"VARCHAR":case"UUID":return"string";default:return/^DECIMAL\(/.test(e)?"integer":"other"}}Object.defineProperty(u.prototype,"dialect",{value:"duckdb"})},7026:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbstractFile:()=>A,FileAttachment:()=>T,FileAttachments:()=>C,NoFileAttachments:()=>S,ZipArchive:()=>q,enforceSchema:()=>E});var r={},o={};function a(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function i(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function s(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function c(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function c(e,t){var a,i=[],s=e.length,c=0,u=0,l=s<=0,f=!1;function d(){if(l)return o;if(f)return f=!1,r;var t,a,i=c;if(34===e.charCodeAt(i)){for(;c++<s&&34!==e.charCodeAt(c)||34===e.charCodeAt(++c););return(t=c)>=s?l=!0:10===(a=e.charCodeAt(c++))?f=!0:13===a&&(f=!0,10===e.charCodeAt(c)&&++c),e.slice(i+1,t-1).replace(/""/g,'"')}for(;c<s;){if(10===(a=e.charCodeAt(t=c++)))f=!0;else if(13===a)f=!0,10===e.charCodeAt(c)&&++c;else if(a!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,s)}for(10===e.charCodeAt(s-1)&&--s,13===e.charCodeAt(s-1)&&--s;(a=d())!==o;){for(var p=[];a!==r&&a!==o;)p.push(a),a=d();t&&null==(p=t(p,u++))||i.push(p)}return i}function u(t,n){return t.map((function(t){return n.map((function(e){return f(t[e])})).join(e)}))}function l(t){return t.map(f).join(e)}function f(e){return null==e?"":e instanceof Date?(o=(n=e).getUTCHours(),a=n.getUTCMinutes(),i=n.getUTCSeconds(),c=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+s(-r,6):r>9999?"+"+s(r,6):s(r,4))+"-"+s(n.getUTCMonth()+1,2)+"-"+s(n.getUTCDate(),2)+(c?"T"+s(o,2)+":"+s(a,2)+":"+s(i,2)+"."+s(c,3)+"Z":i?"T"+s(o,2)+":"+s(a,2)+":"+s(i,2)+"Z":a||o?"T"+s(o,2)+":"+s(a,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;var n,r,o,a,i,c}return{parse:function(e,t){var n,r,o=c(e,(function(e,o){if(n)return n(e,o-1);r=e,n=t?function(e,t){var n=a(e);return function(r,o){return t(n(r),o,e)}}(e,t):a(e)}));return o.columns=r||[],o},parseRows:c,format:function(t,n){return null==n&&(n=i(t)),[n.map(f).join(e)].concat(u(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=i(e)),u(e,t).join("\n")},formatRows:function(e){return e.map(l).join("\n")},formatRow:l,formatValue:f}}var u=c("\t"),l=u.parse,f=u.parseRows,d=(u.format,u.formatBody,u.formatRows,u.formatRow,u.formatValue,c(",")),p=d.parse,h=d.parseRows;function m(e){for(var t in e){var n,r,o=e[t].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(n=+o)){if(!(r=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;b&&r[4]&&!r[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=n;else o=null;e[t]=o}return e}d.format,d.formatBody,d.formatRows,d.formatRow,d.formatValue;const b=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var v=n(7363),y=n(9204),w=n(4054),g=n(5040),_=n(538);async function x(e){const t=await fetch(await e.url());if(!t.ok)throw new Error(`Unable to load file: ${e.name}`);return t}function E(e,t){const n=new Map(t.map((({name:e,type:t})=>[e,t])));return Object.assign(e.map((e=>(0,g.coerceRow)(e,n,t))),{schema:t})}async function j(e,t,{array:n=!1,typed:r=!1}={}){const o=await e.text(),a="\t"===t?n?f:l:n?h:p;if("auto"===r&&!n){const e=a(o);return E(e,(0,g.inferSchema)(e,e.columns))}return a(o,r&&m)}class A{constructor(e,t){Object.defineProperty(this,"name",{value:e,enumerable:!0}),void 0!==t&&Object.defineProperty(this,"mimeType",{value:t+"",enumerable:!0})}async blob(){return(await x(this)).blob()}async arrayBuffer(){return(await x(this)).arrayBuffer()}async text(){return(await x(this)).text()}async json(){return(await x(this)).json()}async stream(){return(await x(this)).body}async csv(e){return j(this,",",e)}async tsv(e){return j(this,"\t",e)}async image(e){const t=await this.url();return new Promise(((n,r)=>{const o=new Image;new URL(t,document.baseURI).origin!==new URL(location).origin&&(o.crossOrigin="anonymous"),Object.assign(o,e),o.onload=()=>n(o),o.onerror=()=>r(new Error(`Unable to load file: ${this.name}`)),o.src=t}))}async arrow({version:e=4}={}){switch(e){case 4:{const[e,t]=await Promise.all([(0,y.requireDefault)(v.arrow4.resolve()),x(this)]);return e.Table.from(t)}case 9:{const[e,t]=await Promise.all([n(1187)(`${y.cdn}${v.arrow9.resolve()}`),x(this)]);return e.tableFromIPC(t)}case 11:{const[e,t]=await Promise.all([n(1187)(`${y.cdn}${v.arrow11.resolve()}`),x(this)]);return e.tableFromIPC(t)}default:throw new Error(`unsupported arrow version: ${e}`)}}async sqlite(){return w.SQLiteDatabaseClient.open(x(this))}async zip(){const[e,t]=await Promise.all([(0,y.requireDefault)(v.jszip.resolve()),this.arrayBuffer()]);return new q(await e.loadAsync(t))}async xml(e="application/xml"){return(new DOMParser).parseFromString(await this.text(),e)}async html(){return this.xml("text/html")}async xlsx(){const[e,t]=await Promise.all([(0,y.requireDefault)(v.exceljs.resolve()),this.arrayBuffer()]);return new _.Workbook(await(new e.Workbook).xlsx.load(t))}}class T extends A{constructor(e,t,n){super(t,n),Object.defineProperty(this,"_url",{value:e})}async url(){return await this._url+""}}function S(e){throw new Error(`File not found: ${e}`)}function C(e){return Object.assign((t=>{const n=e(t+="");if(null==n)throw new Error(`File not found: ${t}`);if("object"==typeof n&&"url"in n){const{url:e,mimeType:r}=n;return new T(e,t,r)}return new T(n,t)}),{prototype:T.prototype})}class q{constructor(e){Object.defineProperty(this,"_",{value:e}),this.filenames=Object.keys(e.files).filter((t=>!e.files[t].dir))}file(e){const t=this._.file(e+="");if(!t||t.dir)throw new Error(`file not found: ${e}`);return new O(t)}}class O extends A{constructor(e){super(e.name),Object.defineProperty(this,"_",{value:e}),Object.defineProperty(this,"_url",{writable:!0})}async url(){return this._url||(this._url=this.blob().then(URL.createObjectURL))}async blob(){return this._.async("blob")}async arrayBuffer(){return this._.async("arraybuffer")}async text(){return this._.async("text")}async json(){return JSON.parse(await this.text())}}},3825:(e,t,n)=>{"use strict";function r(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)}))}n.r(t),n.d(t,{buffer:()=>r})},6155:(e,t,n)=>{"use strict";n.r(t),n.d(t,{buffer:()=>r.buffer,text:()=>o.text,url:()=>a.url});var r=n(3825),o=n(2720),a=n(2174)},2720:(e,t,n)=>{"use strict";function r(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsText(e)}))}n.r(t),n.d(t,{text:()=>r})},2174:(e,t,n)=>{"use strict";function r(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsDataURL(e)}))}n.r(t),n.d(t,{url:()=>r})},2238:(e,t,n)=>{"use strict";n.r(t),n.d(t,{disposable:()=>o});var r=n(5243);function o(e,t){let n=!1;if("function"!=typeof t)throw new Error("dispose is not a function");return{[Symbol.iterator]:r.that,next:()=>n?{done:!0}:(n=!0,{done:!1,value:e}),return:()=>(n=!0,t(e),{done:!0}),throw:()=>({done:n=!0})}}},7254:(e,t,n)=>{"use strict";function*r(e,t){for(var n,r=-1;!(n=e.next()).done;)t(n.value,++r)&&(yield n.value)}n.r(t),n.d(t,{filter:()=>r})},6785:(e,t,n)=>{"use strict";n.r(t),n.d(t,{disposable:()=>r.disposable,filter:()=>o.filter,input:()=>a.input,map:()=>i.map,observe:()=>s.observe,queue:()=>c.queue,range:()=>u.range,valueAt:()=>l.valueAt,worker:()=>f.worker});var r=n(2238),o=n(7254),a=n(8044),i=n(3921),s=n(1367),c=n(9042),u=n(2707),l=n(5890),f=n(8179)},8044:(e,t,n)=>{"use strict";n.r(t),n.d(t,{input:()=>o});var r=n(1367);function o(e){return(0,r.observe)((function(t){var n=function(e){switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}(e),r=a(e);function o(){t(a(e))}return e.addEventListener(n,o),void 0!==r&&t(r),function(){e.removeEventListener(n,o)}}))}function a(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];case"select-multiple":return Array.from(e.selectedOptions,(e=>e.value));default:return e.value}}},3921:(e,t,n)=>{"use strict";function*r(e,t){for(var n,r=-1;!(n=e.next()).done;)yield t(n.value,++r)}n.r(t),n.d(t,{map:()=>r})},1367:(e,t,n)=>{"use strict";n.r(t),n.d(t,{observe:()=>o});var r=n(5243);function o(e){let t,n,o=!1;const a=e((function(e){return n?(n(e),n=null):o=!0,t=e}));if(null!=a&&"function"!=typeof a)throw new Error("function"==typeof a.then?"async initializers are not supported":"initializer returned something, but not a dispose function");return{[Symbol.iterator]:r.that,throw:()=>({done:!0}),return:()=>(null!=a&&a(),{done:!0}),next:function(){return{done:!1,value:o?(o=!1,Promise.resolve(t)):new Promise((e=>n=e))}}}}},9042:(e,t,n)=>{"use strict";n.r(t),n.d(t,{queue:()=>o});var r=n(5243);function o(e){let t;const n=[],o=e((function(e){return n.push(e),t&&(t(n.shift()),t=null),e}));if(null!=o&&"function"!=typeof o)throw new Error("function"==typeof o.then?"async initializers are not supported":"initializer returned something, but not a dispose function");return{[Symbol.iterator]:r.that,throw:()=>({done:!0}),return:()=>(null!=o&&o(),{done:!0}),next:function(){return{done:!1,value:n.length?Promise.resolve(n.shift()):new Promise((e=>t=e))}}}}},2707:(e,t,n)=>{"use strict";function*r(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n));++r<o;)yield e+r*n}n.r(t),n.d(t,{range:()=>r})},5890:(e,t,n)=>{"use strict";function r(e,t){if(!(!isFinite(t=+t)||t<0||t!=t|0))for(var n,r=-1;!(n=e.next()).done;)if(++r===t)return n.value}n.r(t),n.d(t,{valueAt:()=>r})},8179:(e,t,n)=>{"use strict";n.r(t),n.d(t,{worker:()=>o});var r=n(2238);function o(e){const t=URL.createObjectURL(new Blob([e],{type:"text/javascript"})),n=new Worker(t);return(0,r.disposable)(n,(()=>{n.terminate(),URL.revokeObjectURL(t)}))}},6566:(e,t,n)=>{"use strict";n.r(t),n.d(t,{html:()=>r});const r=(0,n(9225).template)((function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),document.importNode(t.content,!0)}),(function(){return document.createElement("span")}))},7138:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbstractFile:()=>r.AbstractFile,FileAttachments:()=>r.FileAttachments,Library:()=>o.Library,applyDataTableOperations:()=>s.__table,arrayIsPrimitive:()=>s.arrayIsPrimitive,getArrowTableSchema:()=>a.getArrowTableSchema,getSchema:()=>s.getSchema,getTypeValidator:()=>s.getTypeValidator,inferSchema:()=>s.inferSchema,isArqueroTable:()=>i.isArqueroTable,isArrowTable:()=>a.isArrowTable,isDataArray:()=>s.isDataArray,isDatabaseClient:()=>s.isDatabaseClient,loadDataSource:()=>s.loadDataSource,makeQueryTemplate:()=>s.makeQueryTemplate});var r=n(7026),o=n(4739),a=n(7938),i=n(9391),s=n(5040)},3861:(e,t,n)=>{"use strict";n.r(t),n.d(t,{leaflet:()=>o});var r=n(7363);async function o(e){const t=await e(r.leaflet.resolve());if(!t._style){const n=document.createElement("link");n.rel="stylesheet",n.href=await e.resolve(r.leaflet.resolve("dist/leaflet.css")),t._style=document.head.appendChild(n)}return t}},4739:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Library:()=>A});var r=n(8961),o=n(1820),a=n(6155),i=n(7026),s=n(6785),c=n(3874),u=n(6566),l=n(3861),f=n(1715),d=n(8843),p=n(221),h=n(3666),m=n(5898),b=n(5545),v=n(9204),y=n(4054),w=n(4745),g=n(667),_=n(423),x=n(282),E=n(7363),j=n(5040);const A=Object.assign(Object.defineProperties((function(e){const t=(0,v.requirer)(e);var n;Object.defineProperties(this,(n={FileAttachment:()=>i.NoFileAttachments,Mutable:()=>p.Mutable,now:h.now,width:x.width,dot:()=>t(E.graphviz.resolve()),htl:()=>t(E.htl.resolve()),html:()=>u.html,md:()=>(0,f.md)(t),svg:()=>w.svg,tex:()=>(0,g.tex)(t),_:()=>t(E.lodash.resolve()),aq:()=>t.alias({"apache-arrow":E.arrow4.resolve()})(E.arquero.resolve()),Arrow:()=>t(E.arrow4.resolve()),d3:()=>t(E.d3.resolve()),DuckDBClient:()=>c.DuckDBClient,Inputs:()=>t(E.inputs.resolve()).then((e=>({...e,file:e.fileOf(i.AbstractFile)}))),L:()=>(0,l.leaflet)(t),mermaid:()=>(0,d.mermaid)(t),Plot:()=>t(E.plot.resolve()),__query:()=>j.__query,require:()=>t,resolve:()=>b.resolve,SQLite:()=>(0,y.SQLite)(t),SQLiteDatabaseClient:()=>y.SQLiteDatabaseClient,topojson:()=>t(E.topojson.resolve()),vl:()=>(0,_.vl)(t),aapl:()=>new i.FileAttachment("https://static.observableusercontent.com/files/3ccff97fd2d93da734e76829b2b066eafdaac6a1fafdec0faf6ebc443271cfc109d29e80dd217468fcb2aff1e6bffdc73f356cc48feb657f35378e6abbbb63b9").csv({typed:!0}),alphabet:()=>new i.FileAttachment("https://static.observableusercontent.com/files/75d52e6c3130b1cae83cda89305e17b50f33e7420ef205587a135e8562bcfd22e483cf4fa2fb5df6dff66f9c5d19740be1cfaf47406286e2eb6574b49ffc685d").csv({typed:!0}),cars:()=>new i.FileAttachment("https://static.observableusercontent.com/files/048ec3dfd528110c0665dfa363dd28bc516ffb7247231f3ab25005036717f5c4c232a5efc7bb74bc03037155cb72b1abe85a33d86eb9f1a336196030443be4f6").csv({typed:!0}),citywages:()=>new i.FileAttachment("https://static.observableusercontent.com/files/39837ec5121fcc163131dbc2fe8c1a2e0b3423a5d1e96b5ce371e2ac2e20a290d78b71a4fb08b9fa6a0107776e17fb78af313b8ea70f4cc6648fad68ddf06f7a").csv({typed:!0}),diamonds:()=>new i.FileAttachment("https://static.observableusercontent.com/files/87942b1f5d061a21fa4bb8f2162db44e3ef0f7391301f867ab5ba718b225a63091af20675f0bfe7f922db097b217b377135203a7eab34651e21a8d09f4e37252").csv({typed:!0}),flare:()=>new i.FileAttachment("https://static.observableusercontent.com/files/a6b0d94a7f5828fd133765a934f4c9746d2010e2f342d335923991f31b14120de96b5cb4f160d509d8dc627f0107d7f5b5070d2516f01e4c862b5b4867533000").csv({typed:!0}),industries:()=>new i.FileAttachment("https://static.observableusercontent.com/files/76f13741128340cc88798c0a0b7fa5a2df8370f57554000774ab8ee9ae785ffa2903010cad670d4939af3e9c17e5e18e7e05ed2b38b848ac2fc1a0066aa0005f").csv({typed:!0}),miserables:()=>new i.FileAttachment("https://static.observableusercontent.com/files/31d904f6e21d42d4963ece9c8cc4fbd75efcbdc404bf511bc79906f0a1be68b5a01e935f65123670ed04e35ca8cae3c2b943f82bf8db49c5a67c85cbb58db052").json(),olympians:()=>new i.FileAttachment("https://static.observableusercontent.com/files/31ca24545a0603dce099d10ee89ee5ae72d29fa55e8fc7c9ffb5ded87ac83060d80f1d9e21f4ae8eb04c1e8940b7287d179fe8060d887fb1f055f430e210007c").csv({typed:!0}),penguins:()=>new i.FileAttachment("https://static.observableusercontent.com/files/715db1223e067f00500780077febc6cebbdd90c151d3d78317c802732252052ab0e367039872ab9c77d6ef99e5f55a0724b35ddc898a1c99cb14c31a379af80a").csv({typed:!0}),weather:()=>new i.FileAttachment("https://static.observableusercontent.com/files/693a46b22b33db0f042728700e0c73e836fa13d55446df89120682d55339c6db7cc9e574d3d73f24ecc9bc7eb9ac9a1e7e104a1ee52c00aab1e77eb102913c1f").csv({typed:!0}),DOM:o,Files:a,Generators:s,Promises:m},Object.fromEntries(Object.entries(n).map(T))))}),{resolve:{get:()=>v.requireDefault.resolve,enumerable:!0,configurable:!0},require:{get:()=>v.requireDefault,set:v.setDefaultRequire,enumerable:!0,configurable:!0}}),{resolveFrom:r.f1,requireFrom:r.ZW});function T([e,t]){return[e,{value:t,writable:!0,enumerable:!0}]}},1715:(e,t,n)=>{"use strict";n.r(t),n.d(t,{md:()=>a});var r=n(7363),o=n(9225);function a(e){return e(r.marked.resolve()).then((function(t){return(0,o.template)((function(n){var o=document.createElement("div");o.innerHTML=t(n,{langPrefix:""}).trim();var a=o.querySelectorAll("pre code[class]");return a.length>0&&e(r.highlight.resolve()).then((function(t){a.forEach((function(n){function o(){t.highlightBlock(n),n.parentNode.classList.add("observablehq--md-pre")}t.getLanguage(n.className)?o():e(r.highlight.resolve("async-languages/index.js")).then((o=>{if(o.has(n.className))return e(r.highlight.resolve("async-languages/"+o.get(n.className))).then((e=>{t.registerLanguage(n.className,e)}))})).then(o,o)}))})),o}),(function(){return document.createElement("div")}))}))}},8843:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mermaid:()=>a});var r=n(7363),o=n(1831);async function a(e){const t=await e(r.mermaid.resolve());return t.initialize({securityLevel:"loose",theme:"neutral"}),function(){const e=document.createElement("div");return e.innerHTML=t.render((0,o.uid)().id,String.raw.apply(String,arguments)),e.removeChild(e.firstChild)}}},221:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Mutable:()=>o});var r=n(1367);function o(e){let t;Object.defineProperties(this,{generator:{value:(0,r.observe)((e=>{t=e}))},value:{get:()=>e,set:n=>t(e=n)}}),void 0!==e&&t(e)}},3666:(e,t,n)=>{"use strict";function*r(){for(;;)yield Date.now()}n.r(t),n.d(t,{now:()=>r})},2984:(e,t,n)=>{"use strict";function r(e,t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}n.r(t),n.d(t,{delay:()=>r})},5898:(e,t,n)=>{"use strict";n.r(t),n.d(t,{delay:()=>r.delay,tick:()=>o.tick,when:()=>a.when});var r=n(2984),o=n(2989),a=n(7782)},2989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{tick:()=>o});var r=n(7782);function o(e,t){return(0,r.when)(Math.ceil((Date.now()+1)/e)*e,t)}},7782:(e,t,n)=>{"use strict";n.r(t),n.d(t,{when:()=>o});var r=new Map;function o(e,t){var n;return(n=r.get(e=+e))?n.then((()=>t)):(n=Date.now())>=e?Promise.resolve(t):function(e,t){var n=new Promise((function(n){r.delete(t);var o=t-e;if(!(o>0))throw new Error("invalid time");if(o>2147483647)throw new Error("too long to wait");setTimeout(n,o)}));return r.set(t,n),n}(n,e).then((()=>t))}},9204:(e,t,n)=>{"use strict";n.r(t),n.d(t,{cdn:()=>o,requireDefault:()=>a,requirer:()=>s,setDefaultRequire:()=>i});var r=n(8961);const o="https://cdn.observableusercontent.com/npm/";let a=r.pF;function i(e){a=e}function s(e){return null==e?a:(0,r.ZW)(e)}},5545:(e,t,n)=>{"use strict";function r(e,t){if(/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,null==t?location:t).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new Error("illegal name");return"https://unpkg.com/"+e}n.r(t),n.d(t,{resolve:()=>r})},4054:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SQLite:()=>a,SQLiteDatabaseClient:()=>i});var r=n(7363),o=n(9204);async function a(e){const[t,n]=await Promise.all([e(r.sql.resolve()),e.resolve(r.sql.resolve("dist/"))]);return t({locateFile:e=>`${n}${e}`})}class i{constructor(e){Object.defineProperties(this,{_db:{value:e}})}static async open(e){const[t,n]=await Promise.all([a(o.requireDefault),Promise.resolve(e).then(c)]);return new i(new t.Database(n))}async query(e,t){return await async function(e,t,n){const[r]=await e.exec(t,n);if(!r)return[];const{columns:o,values:a}=r,i=a.map((e=>Object.fromEntries(e.map(((e,t)=>[o[t],e])))));return i.columns=o,i}(this._db,e,t)}async queryRow(e,t){return(await this.query(e,t))[0]||null}async explain(e,t){return u("pre",{className:"observablehq--inspect"},[l((await this.query(`EXPLAIN QUERY PLAN ${e}`,t)).map((e=>e.detail)).join("\n"))])}async describeTables({schema:e}={}){return this.query(`SELECT NULLIF(schema, 'main') AS schema, name FROM pragma_table_list() WHERE type = 'table'${null==e?"":" AND schema = ?"} AND name NOT LIKE 'sqlite_%' ORDER BY schema, name`,null==e?[]:[e])}async describeColumns({schema:e,table:t}={}){if(null==t)throw new Error("missing table");const n=await this.query(`SELECT name, type, "notnull" FROM pragma_table_info(?${null==e?"":", ?"}) ORDER BY cid`,null==e?[t]:[t,e]);if(!n.length)throw new Error(`table not found: ${t}`);return n.map((({name:e,type:t,notnull:n})=>({name:e,type:s(t),databaseType:t,nullable:!n})))}async describe(e){const t=await(void 0===e?this.query("SELECT name FROM sqlite_master WHERE type = 'table'"):this.query("SELECT * FROM pragma_table_info(?)",[e]));if(!t.length)throw new Error("Not found");const{columns:n}=t;return u("table",{value:t},[u("thead",[u("tr",n.map((e=>u("th",[l(e)]))))]),u("tbody",t.map((e=>u("tr",n.map((t=>u("td",[l(e[t])])))))))])}async sql(){return this.query(...this.queryTag.apply(this,arguments))}queryTag(e,...t){return[e.join("?"),t]}}function s(e){switch(e){case"NULL":return"null";case"INT":case"INTEGER":case"TINYINT":case"SMALLINT":case"MEDIUMINT":case"BIGINT":case"UNSIGNED BIG INT":case"INT2":case"INT8":return"integer";case"TEXT":case"CLOB":case"DATE":case"DATETIME":return"string";case"REAL":case"DOUBLE":case"DOUBLE PRECISION":case"FLOAT":case"NUMERIC":return"number";case"BLOB":return"buffer";default:return/^(?:(?:(?:VARYING|NATIVE) )?CHARACTER|(?:N|VAR|NVAR)CHAR)\(/.test(e)?"string":/^(?:DECIMAL|NUMERIC)\(/.test(e)?"number":"other"}}function c(e){return"string"==typeof e?fetch(e).then(c):e instanceof Response||e instanceof Blob?e.arrayBuffer().then(c):e instanceof ArrayBuffer?new Uint8Array(e):e}function u(e,t,n){2===arguments.length&&(n=t,t=void 0);const r=document.createElement(e);if(void 0!==t)for(const e in t)r[e]=t[e];if(void 0!==n)for(const e of n)r.appendChild(e);return r}function l(e){return document.createTextNode(e)}Object.defineProperty(i.prototype,"dialect",{value:"sqlite"})},4745:(e,t,n)=>{"use strict";n.r(t),n.d(t,{svg:()=>r});const r=(0,n(9225).template)((function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e.trim(),t}),(function(){return document.createElementNS("http://www.w3.org/2000/svg","g")}))},5040:(e,t,n)=>{"use strict";function r(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function o(e,t=r){let n,o=!1;if(1===t.length){let a;for(const i of e){const e=t(i);(o?r(e,a)>0:0===r(e,e))&&(n=i,a=e,o=!0)}}else for(const r of e)(o?t(r,n)>0:0===t(r,r))&&(n=r,o=!0);return n}n.r(t),n.d(t,{__query:()=>y,__table:()=>Y,arrayIsPrimitive:()=>h,coerceRow:()=>Q,coerceToType:()=>G,getSchema:()=>Z,getTypeValidator:()=>H,inferSchema:()=>K,isDataArray:()=>l,isDatabaseClient:()=>u,loadDataSource:()=>w,makeQueryTemplate:()=>T});var a=n(7026),i=n(9391),s=n(7938),c=n(3874);function u(e,t){return e&&("function"==typeof e.sql||"function"==typeof e.queryTag&&("function"==typeof e.query||"function"==typeof e.queryStream))&&("table"!==t||"function"==typeof e.describeColumns)&&e!==y}function l(e){return Array.isArray(e)&&(f(e.schema)||d(e.columns)||function(e){const t=Math.min(20,e.length);for(let n=0;n<t;++n){const t=e[n];if(null===t||"object"!=typeof t)return!1}return t>0&&function(e){for(const t in e)return!0;return!1}(e[0])}(e)||m(e)||b(e))||v(e)}function f(e){return Array.isArray(e)&&e.every(p)}function d(e){return Array.isArray(e)&&e.every((e=>"string"==typeof e))}function p(e){return e&&"string"==typeof e.name&&"string"==typeof e.type}function h(e){return v(e)||m(e)||b(e)}function m(e){const t=Math.min(20,e.length);if(!(t>0))return!1;let n,r=!1;for(let o=0;o<t;++o){const t=e[o];if(null==t)continue;const a=typeof t;if(void 0===n)switch(a){case"number":case"boolean":case"string":case"bigint":n=a;break;default:return!1}else if(a!==n)return!1;r=!0}return r}function b(e){const t=Math.min(20,e.length);if(!(t>0))return!1;let n=!1;for(let r=0;r<t;++r){const t=e[r];if(null!=t){if(!(t instanceof Date))return!1;n=!0}}return n}function v(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}const y=Object.assign((async(e,t,n,r)=>{if(u(e=await x(await e,r)))return A(e,T(t,e),n);if(l(e))return Y(e,t);if(!e)throw new Error("missing data source");throw new Error("invalid data source")}),{sql:(e,t,n)=>async function(){return A(await E(await e,n),arguments,t)}});async function w(e,t,n){switch(t){case"chart":return _(e);case"table":return x(e,n);case"sql":return E(e,n)}return e}function g(e){const t=new WeakMap;return(n,r)=>{if(!n)throw new Error("data source not found");let o=t.get(n);return(!o||l(n)&&n.length!==o._numRows)&&(o=e(n,r),o._numRows=n.length,t.set(n,o)),o}}const _=g((async e=>{if(e instanceof a.FileAttachment){switch(e.mimeType){case"text/csv":return e.csv({typed:"auto"});case"text/tab-separated-values":return e.tsv({typed:"auto"});case"application/json":return e.json()}throw new Error(`unsupported file type: ${e.mimeType}`)}return e})),x=g((async(e,t)=>{if(e instanceof a.FileAttachment){switch(e.mimeType){case"text/csv":return e.csv();case"text/tab-separated-values":return e.tsv();case"application/json":return e.json();case"application/x-sqlite3":return e.sqlite()}if(/\.(arrow|parquet)$/i.test(e.name))return j(e,t);throw new Error(`unsupported file type: ${e.mimeType}`)}return(0,s.isArrowTable)(e)||(0,i.isArqueroTable)(e)?j(e,t):l(e)&&h(e)?Array.from(e,(e=>({value:e}))):e})),E=g((async(e,t)=>{if(e instanceof a.FileAttachment){switch(e.mimeType){case"text/csv":case"text/tab-separated-values":case"application/json":return j(e,t);case"application/x-sqlite3":return e.sqlite()}if(/\.(arrow|parquet)$/i.test(e.name))return j(e,t);throw new Error(`unsupported file type: ${e.mimeType}`)}return l(e)?j(await async function(e,t){const n=await(0,s.loadArrow)();return h(e)?n.tableFromArrays({[t]:e}):n.tableFromJSON(e)}(e,t),t):(0,s.isArrowTable)(e)||(0,i.isArqueroTable)(e)?j(e,t):e}));function j(e,t=(e instanceof a.FileAttachment?function(e){return e.name.replace(/@\d+(?=\.|$)/,"").replace(/\.\w+$/,"")}(e):"__table")){return c.DuckDBClient.of({[t]:e})}async function A(e,t,n){if(!e)throw new Error("missing data source");if("function"==typeof e.queryTag){const r=new AbortController,o={signal:r.signal};if(n.then((()=>r.abort("invalidated"))),"function"==typeof e.queryStream)return async function*(e){let t=performance.now();const n=await e,r=[];r.done=!1,r.error=null,r.schema=n.schema;try{for await(const e of n.readRows()){performance.now()-t>150&&r.length>0&&(yield r,t=performance.now());for(const t of e)r.push(t)}r.done=!0,yield r}catch(e){r.error=e,yield r}}(e.queryStream(...e.queryTag.apply(e,t),o));if("function"==typeof e.query)return e.query(...e.queryTag.apply(e,t),o)}if("function"==typeof e.sql)return e.sql.apply(e,t);throw new Error("source does not implement query, queryStream, or sql")}function T(e,t){const n="function"==typeof t.escape?t.escape:e=>e,{select:r,from:o,filter:a,sort:i,slice:s}=e;if(!o.table)throw new Error("missing from table");if(r.columns&&0===r.columns.length)throw new Error("at least one column must be selected");const c=new Map(e.names?.map((({column:e,name:t})=>[e,t]))),u=[[`SELECT ${r.columns?r.columns.map((e=>{const t=c.get(e);return t?`${n(e)} AS ${n(t)}`:n(e)})).join(", "):"*"} FROM ${S(o.table,n)}`]];for(let e=0;e<a.length;++e)C(e?"\nAND ":"\nWHERE ",u),O(a[e],u,n);for(let e=0;e<i.length;++e)C(e?", ":"\nORDER BY ",u),q(i[e],u,n);if("mssql"===t.dialect||"oracle"===t.dialect){if(null!==s.to||null!==s.from){if(!i.length){if(!r.columns)throw new Error("at least one column must be explicitly specified. Received '*'.");C("\nORDER BY ",u),q({column:r.columns[0],direction:"ASC"},u,n)}C(`\nOFFSET ${s.from||0} ROWS`,u),C(`\nFETCH NEXT ${null!==s.to?s.to-(s.from||0):1e9} ROWS ONLY`,u)}}else null===s.to&&null===s.from||C("\nLIMIT "+(null!==s.to?s.to-(s.from||0):1e9),u),null!==s.from&&C(` OFFSET ${s.from}`,u);return u}function S(e,t){if("object"==typeof e){let n="";return null!=e.database&&(n+=t(e.database)+"."),null!=e.schema&&(n+=t(e.schema)+"."),n+=t(e.table),n}return t(e)}function C(e,t){const n=t[0];n[n.length-1]+=e}function q({column:e,direction:t},n,r){C(`${r(e)} ${t.toUpperCase()}`,n)}function O({type:e,operands:t},n,r){if(t.length<1)throw new Error("Invalid operand length");if(1===t.length||"v"===e||"nv"===e)switch(N(t[0],n,r),e){case"n":case"nv":return void C(" IS NULL",n);case"nn":case"v":return void C(" IS NOT NULL",n);default:throw new Error("Invalid filter operation")}if(2!==t.length||["in","nin"].includes(e)){var o;switch(N(t[0],n,r),e){case"in":C(" IN (",n);break;case"nin":C(" NOT IN (",n);break;default:throw new Error("Invalid filter operation")}!function(e,t){let n=!0;for(const r of e)n?n=!1:C(",",t),t.push(r.value),t[0].push("")}(t.slice(1),n),C(")",n)}else{if(["c","nc"].includes(e)){switch(N(t[0],n,r),e){case"c":C(" LIKE ",n);break;case"nc":C(" NOT LIKE ",n)}return void N((o=t[1],{...o,value:`%${o.value}%`}),n,r)}switch(N(t[0],n,r),e){case"eq":C(" = ",n);break;case"ne":C(" <> ",n);break;case"gt":C(" > ",n);break;case"lt":C(" < ",n);break;case"gte":C(" >= ",n);break;case"lte":C(" <= ",n);break;default:throw new Error("Invalid filter operation")}N(t[1],n,r)}}function N(e,t,n){"column"===e.type?C(n(e.value),t):(t.push(e.value),t[0].push(""))}function k(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))}function L(e,t){return k(e,t)||(e<t?-1:e>t?1:0)}function M(e,t){return k(e,t)||(e>t?-1:e<t?1:0)}const P=e=>"number"==typeof e&&!Number.isNaN(e),$=e=>Number.isInteger(e)&&!Number.isNaN(e),I=e=>"string"==typeof e,R=e=>"boolean"==typeof e,D=e=>"bigint"==typeof e,F=e=>e instanceof Date&&!isNaN(e),U=e=>e instanceof ArrayBuffer,B=e=>Array.isArray(e),z=e=>"object"==typeof e&&null!==e,W=e=>null!=e;function H(e){switch(e){case"string":return I;case"bigint":return D;case"boolean":return R;case"number":return P;case"integer":return $;case"date":return F;case"buffer":return U;case"array":return B;case"object":return z;default:return W}}const V=/^(([-+]\d{2})?\d{4}(-\d{2}(-\d{2}))|(\d{1,2})\/(\d{1,2})\/(\d{2,4}))([T ]\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/;function G(e,t){switch(t){case"string":return"string"==typeof e||null==e?e:String(e);case"boolean":if("string"==typeof e){const t=e.trim().toLowerCase();return"true"===t||"false"!==t&&null}return"boolean"==typeof e||null==e?e:Boolean(e);case"bigint":return"bigint"==typeof e||null==e?e:Number.isInteger("string"!=typeof e||e.trim()?+e:NaN)?BigInt(e):void 0;case"integer":case"number":return"number"==typeof e?e:null==e||"string"==typeof e&&!e.trim()?NaN:Number(e);case"date":{if(e instanceof Date||null==e)return e;if("number"==typeof e)return new Date(e);const t=String(e).trim();return"string"!=typeof e||t?new Date(V.test(t)?t:NaN):null}case"array":case"object":case"buffer":case"other":return e;default:throw new Error(`Unable to coerce to type: ${t}`)}}function Z(e){const{columns:t}=e;let{schema:n}=e;return f(n)?{schema:n,inferred:!1}:(n=K(e,d(t)?t:void 0),{schema:n,inferred:!0})}function Y(e,t){const n=e;let{columns:r}=e,{schema:o,inferred:a}=Z(e);const i=new Map(o.map((({name:e,type:t})=>[e,t])));if(t.types){for(const{name:e,type:r}of t.types){i.set(e,r),o===n.schema&&(o=o.slice());const t=o.findIndex((t=>t.name===e));t>-1&&(o[t]={...o[t],type:r})}e=e.map((e=>Q(e,i,o)))}else a&&(e=e.map((e=>Q(e,i,o))));for(const{type:n,operands:r}of t.filter){const[{value:t}]=r,o=r.slice(1).map((({value:e})=>e));switch(n){case"v":{const[n]=o,r=H(n);e=e.filter((e=>r(e[t])));break}case"nv":{const[n]=o,r=H(n);e=e.filter((e=>!r(e[t])));break}case"eq":{const[n]=o;if(n instanceof Date){const r=+n;e=e.filter((e=>+e[t]===r))}else e=e.filter((e=>e[t]===n));break}case"ne":{const[n]=o;e=e.filter((e=>e[t]!==n));break}case"c":{const[n]=o;e=e.filter((e=>"string"==typeof e[t]&&e[t].includes(n)));break}case"nc":{const[n]=o;e=e.filter((e=>"string"==typeof e[t]&&!e[t].includes(n)));break}case"in":{const n=new Set(o);e=e.filter((e=>n.has(e[t])));break}case"nin":{const n=new Set(o);e=e.filter((e=>!n.has(e[t])));break}case"n":e=e.filter((e=>null==e[t]));break;case"nn":e=e.filter((e=>null!=e[t]));break;case"lt":{const[n]=o;e=e.filter((e=>e[t]<n));break}case"lte":{const[n]=o;e=e.filter((e=>e[t]<=n));break}case"gt":{const[n]=o;e=e.filter((e=>e[t]>n));break}case"gte":{const[n]=o;e=e.filter((e=>e[t]>=n));break}default:throw new Error(`unknown filter type: ${n}`)}}for(const{column:r,direction:o}of function(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}(t.sort)){const t="desc"===o?M:L;e===n&&(e=e.slice()),e.sort(((e,n)=>t(e[r],n[r])))}let{from:s,to:c}=t.slice;if(s=null==s?0:Math.max(0,s),c=null==c?1/0:Math.max(0,c),(s>0||c<1/0)&&(e=e.slice(Math.max(0,s),Math.max(0,c))),t.select.columns){if(o){const e=new Map(o.map((e=>[e.name,e])));o=t.select.columns.map((t=>e.get(t)))}r&&(r=t.select.columns),e=e.map((e=>Object.fromEntries(t.select.columns.map((t=>[t,e[t]])))))}if(t.names){const n=new Map(t.names.map((e=>[e.column,e])));o&&(o=o.map((e=>{const t=n.get(e.name);return{...e,...t?{name:t.name}:null}}))),r&&(r=r.map((e=>n.get(e)?.name??e))),e=e.map((e=>Object.fromEntries(Object.keys(e).map((t=>[n.get(t)?.name??t,e[t]])))))}return e!==n&&(o&&(e.schema=o),r&&(e.columns=r)),e}function Q(e,t,n){const r={};for(const o of n){const n=t.get(o.name),a=e[o.name];r[o.name]="raw"===n?a:G(a,n)}return r}const J=["boolean","integer","number","date","bigint","array","object","buffer"];function K(e,t=function(e){const t=new Set;for(const n of e)if(n)for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.add(e);return Array.from(t)}(e)){const n=[],r=e.slice(0,100),a={};for(const e of t){const t=a[e]={boolean:0,integer:0,number:0,date:0,string:0,array:0,object:0,bigint:0,buffer:0,defined:0};for(const n of r){let r=n[e];if(null==r)continue;const o=typeof r;if("string"!==o)++t.defined,Array.isArray(r)?++t.array:r instanceof Date?++t.date:r instanceof ArrayBuffer?++t.buffer:"number"===o?(++t.number,Number.isInteger(r)&&++t.integer):o in t&&++t[o];else{if(r=r.trim(),!r)continue;++t.defined,++t.string,/^(true|false)$/i.test(r)?++t.boolean:r&&!isNaN(r)?(++t.number,Number.isInteger(+r)&&++t.integer):V.test(r)&&++t.date}}const i=Math.max(1,.9*t.defined),s=o(J,(e=>t[e]>=i?t[e]:NaN))??(t.string>=i?"string":"other");n.push({name:e,type:s,inferred:s})}return n}},9225:(e,t,n)=>{"use strict";function r(e,t){return function(n){var r,o,a,i,s,c,u,l,f=n[0],d=[],p=null,h=-1;for(s=1,c=arguments.length;s<c;++s){if((r=arguments[s])instanceof Node)d[++h]=r,f+="\x3c!--o:"+h+"--\x3e";else if(Array.isArray(r)){for(u=0,l=r.length;u<l;++u)(o=r[u])instanceof Node?(null===p&&(d[++h]=p=document.createDocumentFragment(),f+="\x3c!--o:"+h+"--\x3e"),p.appendChild(o)):(p=null,f+=o);p=null}else f+=r;f+=n[s]}if(p=e(f),++h>0){for(a=new Array(h),i=document.createTreeWalker(p,NodeFilter.SHOW_COMMENT,null,!1);i.nextNode();)o=i.currentNode,/^o:/.test(o.nodeValue)&&(a[+o.nodeValue.slice(2)]=o);for(s=0;s<h;++s)(o=a[s])&&o.parentNode.replaceChild(d[s],o)}return 1===p.childNodes.length?p.removeChild(p.firstChild):11===p.nodeType?((o=t()).appendChild(p),o):p}}n.r(t),n.d(t,{template:()=>r})},667:(e,t,n)=>{"use strict";n.r(t),n.d(t,{tex:()=>i});var r=n(7363),o=String.raw;function a(e){return new Promise((function(t,n){var r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onerror=n,r.onload=t,document.head.appendChild(r)}))}function i(e){return Promise.all([e(r.katex.resolve()),e.resolve(r.katex.resolve("dist/katex.min.css")).then(a)]).then((function(e){var t=e[0],n=r();function r(e){return function(){var n=document.createElement("div");return t.render(o.apply(String,arguments),n,e),n.removeChild(n.firstChild)}}return n.options=r,n.block=r({displayMode:!0}),n}))}},5243:(e,t,n)=>{"use strict";function r(){return this}n.r(t),n.d(t,{that:()=>r})},423:(e,t,n)=>{"use strict";n.r(t),n.d(t,{vl:()=>o});var r=n(7363);async function o(e){const[t,n,o]=await Promise.all([r.vega,r.vegalite,r.vegaliteApi].map((t=>e(t.resolve()))));return o.register(t,n)}},282:(e,t,n)=>{"use strict";n.r(t),n.d(t,{width:()=>o});var r=n(1367);function o(){return(0,r.observe)((function(e){var t=e(document.body.clientWidth);function n(){var n=document.body.clientWidth;n!==t&&e(t=n)}return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}))}},538:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Workbook:()=>r});class r{constructor(e){Object.defineProperties(this,{_:{value:e},sheetNames:{value:e.worksheets.map((e=>e.name)),enumerable:!0}})}sheet(e,t){const n="number"==typeof e?this.sheetNames[e]:this.sheetNames.includes(e+="")?e:null;if(null==n)throw new Error(`Sheet not found: ${e}`);return function(e,{range:t,headers:n}={}){let[[r,a],[c,u]]=function(e=":",{columnCount:t,rowCount:n}){if(!(e+="").match(/^[A-Z]*\d*:[A-Z]*\d*$/))throw new Error("Malformed range specifier");const[[r=0,o=0],[a=t-1,i=n-1]]=e.split(":").map(s);return[[r,o],[a,i]]}(t,e);const l=n?e._rows[a++]:null;let f=new Set(["#"]);for(let e=r;e<=c;e++){const t=l?o(l.findCell(e+1)):null;let n=t&&t+""||i(e);for(;f.has(n);)n+="_";f.add(n)}f=new Array(r).concat(Array.from(f));const d=new Array(u-a+1);for(let t=a;t<=u;t++){const n=d[t-a]=Object.create(null,{"#":{value:t+1}}),i=e.getRow(t+1);if(i.hasValues)for(let e=r;e<=c;e++){const t=o(i.findCell(e+1));null!=t&&(n[f[e+1]]=t)}}return d.columns=f.filter((()=>!0)),d}(this._.getWorksheet(n),t)}}function o(e){if(!e)return;const{value:t}=e;if(t&&"object"==typeof t&&!(t instanceof Date)){if(t.formula||t.sharedFormula)return t.result&&t.result.error?NaN:t.result;if(t.richText)return a(t);if(t.text){let{text:e}=t;return e.richText&&(e=a(e)),t.hyperlink&&t.hyperlink!==e?`${t.hyperlink} ${e}`:e}return t}return t}function a(e){return e.richText.map((e=>e.text)).join("")}function i(e){let t="";e++;do{t=String.fromCharCode(64+(e%26||26))+t}while(e=Math.floor((e-1)/26));return t}function s(e){const[,t,n]=e.match(/^([A-Z]*)(\d*)$/);let r=0;if(t)for(let e=0;e<t.length;e++)r+=Math.pow(26,t.length-e-1)*(t.charCodeAt(e)-64);return[r?r-1:void 0,n?+n-1:void 0]}},8961:(e,t,n)=>{"use strict";n.d(t,{ZW:()=>m,f1:()=>p,pF:()=>h});const r=new Map,o=[],a=o.map,i=o.some,s=o.hasOwnProperty,c=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/,u=/^\d+\.\d+\.\d+(-[\w-.+]+)?$/,l=/(?:\.[^/]*|\/)$/;class f extends Error{constructor(e){super(e)}}function d(e){const t=c.exec(e);return t&&{name:t[1],version:t[2],path:t[3]}}function p(e="https://cdn.jsdelivr.net/npm/",t=["unpkg","jsdelivr","browser","main"]){if(!/\/$/.test(e))throw new Error("origin lacks trailing slash");function n(t){const n=`${e}${t.name}${t.version?`@${t.version}`:""}/package.json`;let o=r.get(n);return o||r.set(n,o=fetch(n).then((e=>{if(!e.ok)throw new f("unable to load package.json");return e.redirected&&!r.has(e.url)&&r.set(e.url,o),e.json()}))),o}return async function(r,o){if(r.startsWith(e)&&(r=r.substring(e.length)),/^(\w+:)|\/\//i.test(r))return r;if(/^[.]{0,2}\//i.test(r))return new URL(r,null==o?location:o).href;if(!r.length||/^[\s._]/.test(r)||/\s$/.test(r))throw new f("illegal name");const a=d(r);if(!a)return`${e}${r}`;if(!a.version&&null!=o&&o.startsWith(e)){const t=await n(d(o.substring(e.length)));a.version=t.dependencies&&t.dependencies[a.name]||t.peerDependencies&&t.peerDependencies[a.name]}if(a.path&&!l.test(a.path)&&(a.path+=".js"),a.path&&a.version&&u.test(a.version))return`${e}${a.name}@${a.version}/${a.path}`;const i=await n(a);return`${e}${i.name}@${i.version}/${a.path||function(e){for(const n of t){let t=e[n];if("string"==typeof t)return t.startsWith("./")&&(t=t.slice(2)),l.test(t)?t:`${t}.js`}}(i)||"index.js"}`}}f.prototype.name=f.name;var h=m(p());function m(e){const t=new Map,n=i(null);function r(e){if("string"!=typeof e)return e;let n=t.get(e);return n||t.set(e,n=new Promise(((t,n)=>{const r=document.createElement("script");r.onload=()=>{try{t(o.pop()(i(e)))}catch(e){n(new f("invalid module"))}r.remove()},r.onerror=()=>{n(new f("unable to load module")),r.remove()},r.async=!0,r.src=e,window.define=w,document.head.appendChild(r)}))),n}function i(t){return n=>Promise.resolve(e(n,t)).then(r)}function s(e){return arguments.length>1?Promise.all(a.call(arguments,n)).then(b):n(e)}return s.alias=function(t){return m(((n,r)=>n in t&&(r=null,"string"!=typeof(n=t[n]))?n:e(n,r)))},s.resolve=e,s}function b(e){const t={};for(const n of e)for(const e in n)s.call(n,e)&&(null==n[e]?Object.defineProperty(t,e,{get:v(n,e)}):t[e]=n[e]);return t}function v(e,t){return()=>e[t]}function y(e){return"exports"==(e+="")||"module"===e}function w(e,t,n){const r=arguments.length;r<2?(n=e,t=[]):r<3&&(n=t,t="string"==typeof e?[]:e),o.push(i.call(t,y)?e=>{const r={},o={exports:r};return Promise.all(a.call(t,(t=>"exports"==(t+="")?r:"module"===t?o:e(t)))).then((e=>(n.apply(null,e),o.exports)))}:e=>Promise.all(a.call(t,e)).then((e=>"function"==typeof n?n.apply(null,e):n)))}w.amd={}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.e=()=>Promise.resolve(),n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,(()=>{"use strict";function e(e,t,n){n=n||{};var r=e.ownerDocument,o=r.defaultView.CustomEvent;"function"==typeof o?o=new o(t,{detail:n}):((o=r.createEvent("Event")).initEvent(t,!1,!1),o.detail=n),e.dispatchEvent(o)}function t(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function r(e){return e===(0|e)+""}function o(e){const t=document.createElement("span");return t.className="observablehq--cellname",t.textContent=`${e} = `,t}n(6554);const a=Symbol.prototype.toString;function i(e){return a.call(e)}const{getOwnPropertySymbols:s,prototype:{hasOwnProperty:c}}=Object,{toStringTag:u}=Symbol,l={},f=s;function d(e,t){return c.call(e,t)}function p(e){return e[u]||e.constructor&&e.constructor.name||"Object"}function h(e,t){try{const n=e[t];return n&&n.constructor,n}catch(e){return l}}const m=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function b(e){try{let t=m.filter((({symbol:t})=>!0===e[t]));if(!t.length)return;const n=t.find((e=>!e.modifier)),r="Map"===n.name&&t.find((e=>e.modifier&&e.prefix)),o=t.some((e=>e.arrayish)),a=t.some((e=>e.setish));return{name:`${r?r.name:""}${n.name}`,symbols:t,arrayish:o&&!a,setish:a}}catch(e){return null}}const{getPrototypeOf:v,getOwnPropertyDescriptors:y}=Object,w=v({});function g(n,r,a,i){let s,c,u,l,f=t(n);n instanceof Map?n instanceof n.constructor?(s=`Map(${n.size})`,c=_):(s="Map()",c=S):n instanceof Set?n instanceof n.constructor?(s=`Set(${n.size})`,c=x):(s="Set()",c=S):f?(s=`${n.constructor.name}(${n.length})`,c=j):(l=b(n))?(s=`Immutable.${l.name}${"Record"===l.name?"":`(${n.size})`}`,f=l.arrayish,c=l.arrayish?A:l.setish?E:C):i?(s=p(n),c=T):(s=p(n),c=S);const d=document.createElement("span");d.className="observablehq--expanded",a&&d.appendChild(o(a));const h=d.appendChild(document.createElement("a"));h.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M4 7L0 1h8z' fill='currentColor' />\n  </svg>",h.appendChild(document.createTextNode(`${s}${f?" [":" {"}`)),h.addEventListener("mouseup",(function(e){e.stopPropagation(),ie(d,M(n,null,a,i))})),c=c(n);for(let e=0;!(u=c.next()).done&&e<20;++e)d.appendChild(u.value);if(!u.done){const t=d.appendChild(document.createElement("a"));t.className="observablehq--field",t.style.display="block",t.appendChild(document.createTextNode("  … more")),t.addEventListener("mouseup",(function(t){t.stopPropagation(),d.insertBefore(u.value,d.lastChild.previousSibling);for(let e=0;!(u=c.next()).done&&e<19;++e)d.insertBefore(u.value,d.lastChild.previousSibling);u.done&&d.removeChild(d.lastChild.previousSibling),e(d,"load")}))}return d.appendChild(document.createTextNode(f?"]":"}")),d}function*_(e){for(const[t,n]of e)yield N(t,n);yield*S(e)}function*x(e){for(const t of e)yield k(t);yield*S(e)}function*E(e){for(const t of e)yield k(t)}function*j(e){for(let t=0,n=e.length;t<n;++t)t in e&&(yield O(t,h(e,t),"observablehq--index"));for(const t in e)!r(t)&&d(e,t)&&(yield O(t,h(e,t),"observablehq--key"));for(const t of f(e))yield O(i(t),h(e,t),"observablehq--symbol")}function*A(e){let t=0;for(const n=e.size;t<n;++t)yield O(t,e.get(t),!0)}function*T(e){for(const t in y(e))yield O(t,h(e,t),"observablehq--key");for(const t of f(e))yield O(i(t),h(e,t),"observablehq--symbol");const t=v(e);t&&t!==w&&(yield q(t))}function*S(e){for(const t in e)d(e,t)&&(yield O(t,h(e,t),"observablehq--key"));for(const t of f(e))yield O(i(t),h(e,t),"observablehq--symbol");const t=v(e);t&&t!==w&&(yield q(t))}function*C(e){for(const[t,n]of e)yield O(t,n,"observablehq--key")}function q(e){const t=document.createElement("div"),n=t.appendChild(document.createElement("span"));return t.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",t.appendChild(document.createTextNode(": ")),t.appendChild(ae(e,void 0,void 0,void 0,!0)),t}function O(e,t,n){const r=document.createElement("div"),o=r.appendChild(document.createElement("span"));return r.className="observablehq--field",o.className=n,o.textContent=`  ${e}`,r.appendChild(document.createTextNode(": ")),r.appendChild(ae(t)),r}function N(e,t){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(ae(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(ae(t)),n}function k(e){const t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(ae(e)),t}function L(e){const t=window.getSelection();return"Range"===t.type&&(t.containsNode(e,!0)||t.anchorNode.isSelfOrDescendant(e)||t.focusNode.isSelfOrDescendant(e))}function M(e,n,r,a){let i,s,c,u,l=t(e);if(e instanceof Map?e instanceof e.constructor?(i=`Map(${e.size})`,s=P):(i="Map()",s=F):e instanceof Set?e instanceof e.constructor?(i=`Set(${e.size})`,s=$):(i="Set()",s=F):l?(i=`${e.constructor.name}(${e.length})`,s=D):(u=b(e))?(i=`Immutable.${u.name}${"Record"===u.name?"":`(${e.size})`}`,l=u.arrayish,s=u.arrayish?R:u.setish?I:U):(i=p(e),s=F),n){const t=document.createElement("span");return t.className="observablehq--shallow",r&&t.appendChild(o(r)),t.appendChild(document.createTextNode(i)),t.addEventListener("mouseup",(function(n){L(t)||(n.stopPropagation(),ie(t,M(e)))})),t}const f=document.createElement("span");f.className="observablehq--collapsed",r&&f.appendChild(o(r));const d=f.appendChild(document.createElement("a"));d.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M7 4L1 8V0z' fill='currentColor' />\n  </svg>",d.appendChild(document.createTextNode(`${i}${l?" [":" {"}`)),f.addEventListener("mouseup",(function(t){L(f)||(t.stopPropagation(),ie(f,g(e,0,r,a)))}),!0),s=s(e);for(let e=0;!(c=s.next()).done&&e<20;++e)e>0&&f.appendChild(document.createTextNode(", ")),f.appendChild(c.value);return c.done||f.appendChild(document.createTextNode(", …")),f.appendChild(document.createTextNode(l?"]":"}")),f}function*P(e){for(const[t,n]of e)yield W(t,n);yield*F(e)}function*$(e){for(const t of e)yield ae(t,!0);yield*F(e)}function*I(e){for(const t of e)yield ae(t,!0)}function*R(e){let t=-1,n=0;for(const r=e.size;n<r;++n)n>t+1&&(yield B(n-t-1)),yield ae(e.get(n),!0),t=n;n>t+1&&(yield B(n-t-1))}function*D(e){let t=-1,n=0;for(const r=e.length;n<r;++n)n in e&&(n>t+1&&(yield B(n-t-1)),yield ae(h(e,n),!0),t=n);n>t+1&&(yield B(n-t-1));for(const t in e)!r(t)&&d(e,t)&&(yield z(t,h(e,t),"observablehq--key"));for(const t of f(e))yield z(i(t),h(e,t),"observablehq--symbol")}function*F(e){for(const t in e)d(e,t)&&(yield z(t,h(e,t),"observablehq--key"));for(const t of f(e))yield z(i(t),h(e,t),"observablehq--symbol")}function*U(e){for(const[t,n]of e)yield z(t,n,"observablehq--key")}function B(e){const t=document.createElement("span");return t.className="observablehq--empty",t.textContent=1===e?"empty":`empty × ${e}`,t}function z(e,t,n){const r=document.createDocumentFragment(),o=r.appendChild(document.createElement("span"));return o.className=n,o.textContent=e,r.appendChild(document.createTextNode(": ")),r.appendChild(ae(t,!0)),r}function W(e,t){const n=document.createDocumentFragment();return n.appendChild(ae(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(ae(t,!0)),n}function H(e,t){return`${e}`.padStart(t,"0")}var V=Error.prototype.toString,G=RegExp.prototype.toString;function Z(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,Y)}function Y(e){var t=e.charCodeAt(0);switch(t){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function Q(e,t){for(var n=0;t.exec(e);)++n;return n}var J=Function.prototype.toString,K={prefix:"async ƒ"},X={prefix:"async ƒ*"},ee={prefix:"class"},te={prefix:"ƒ"},ne={prefix:"ƒ*"};function re(e,t,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild(o(n));var a=r.appendChild(document.createElement("span"));return a.className="observablehq--keyword",a.textContent=e.prefix,r.appendChild(document.createTextNode(t)),r}const{prototype:{toString:oe}}=Object;function ae(e,t,n,r,a){let s=typeof e;switch(s){case"boolean":case"undefined":e+="";break;case"number":e=0===e&&1/e<0?"-0":e+"";break;case"bigint":e+="n";break;case"symbol":e=i(e);break;case"function":return function(e,t){var n,r,o=J.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":n=K;break;case"AsyncGeneratorFunction":n=X;break;case"GeneratorFunction":n=ne;break;default:n=/^class\b/.test(o)?ee:te}return n===ee?re(n,"",t):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(o))?re(n,"("+r[1]+")",t):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(o))||(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(o))?re(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):re(n,"(…)",t)}(e,r);case"string":return function(e,t,n,r){if(!1===t){if(Q(e,/["\n]/g)<=Q(e,/`|\${/g)){const t=document.createElement("span");r&&t.appendChild(o(r));const n=t.appendChild(document.createElement("span"));return n.className="observablehq--string",n.textContent=JSON.stringify(e),t}const a=e.split("\n");if(a.length>20&&!n){const n=document.createElement("div");r&&n.appendChild(o(r));const i=n.appendChild(document.createElement("span"));i.className="observablehq--string",i.textContent="`"+Z(a.slice(0,20).join("\n"));const s=n.appendChild(document.createElement("span")),c=a.length-20;return s.textContent=`Show ${c} truncated line${c>1?"s":""}`,s.className="observablehq--string-expand",s.addEventListener("mouseup",(function(o){o.stopPropagation(),ie(n,ae(e,t,!0,r))})),n}const i=document.createElement("span");r&&i.appendChild(o(r));const s=i.appendChild(document.createElement("span"));return s.className="observablehq--string"+(n?" observablehq--expanded":""),s.textContent="`"+Z(e)+"`",i}const a=document.createElement("span");r&&a.appendChild(o(r));const i=a.appendChild(document.createElement("span"));return i.className="observablehq--string",i.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}…${e.slice(-49)}`:e),a}(e,t,n,r);default:if(null===e){s=null,e="null";break}if(e instanceof Date){s="date",e=function(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return"function"==typeof t?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${i=e.getUTCFullYear(),i<0?`-${H(-i,6)}`:i>9999?`+${H(i,6)}`:H(i,4)}-${H(e.getUTCMonth()+1,2)}-${H(e.getUTCDate(),2)}${n||r||o||a?`T${H(n,2)}:${H(r,2)}${o||a?`:${H(o,2)}${a?`.${H(a,3)}`:""}`:""}Z`:""}`;var i}(e,"Invalid Date");break}if(e===l){s="forbidden",e="[forbidden]";break}switch(oe.call(e)){case"[object RegExp]":s="regexp",e=function(e){return G.call(e)}(e);break;case"[object Error]":case"[object DOMException]":s="error",e=function(e){return e.stack||V.call(e)}(e);break;default:return(n?g:M)(e,t,r,a)}}const c=document.createElement("span");r&&c.appendChild(o(r));const u=c.appendChild(document.createElement("span"));return u.className=`observablehq--${s}`,u.textContent=e,c}function ie(t,n){t.classList.contains("observablehq--inspect")&&n.classList.add("observablehq--inspect"),t.parentNode.replaceChild(n,t),e(n,"load")}const se=/\s+\(\d+:\d+\)$/m;class ce{constructor(e){if(!e)throw new Error("invalid node");this._node=e,e.classList.add("observablehq")}pending(){const{_node:e}=this;e.classList.remove("observablehq--error"),e.classList.add("observablehq--running")}fulfilled(t,n){const{_node:r}=this;if((!function(e){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor}(t)||t.parentNode&&t.parentNode!==r)&&(t=ae(t,!1,r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("observablehq--expanded"),n)).classList.add("observablehq--inspect"),r.classList.remove("observablehq--running","observablehq--error"),r.firstChild!==t)if(r.firstChild){for(;r.lastChild!==r.firstChild;)r.removeChild(r.lastChild);r.replaceChild(t,r.firstChild)}else r.appendChild(t);e(r,"update")}rejected(t,n){const{_node:r}=this;for(r.classList.remove("observablehq--running"),r.classList.add("observablehq--error");r.lastChild;)r.removeChild(r.lastChild);var a=document.createElement("div");a.className="observablehq--inspect",n&&a.appendChild(o(n)),a.appendChild(document.createTextNode((t+"").replace(se,""))),r.appendChild(a),e(r,"error",{error:t})}}ce.into=function(e){if("string"==typeof e&&null==(e=document.querySelector(e)))throw new Error("container not found");return function(){return new ce(e.appendChild(document.createElement("div")))}};var ue=n(7138);class le extends Error{constructor(e,t){super(e),this.input=t}}function fe(e){return()=>e}function de(e){return e}le.prototype.name="RuntimeError";const pe=Array.prototype,he=pe.map;function me(){}pe.forEach;const be=Symbol("no-observer");function ve(e,t,n){var r;n||(n=be),Object.defineProperties(this,{_observer:{value:n,writable:!0},_definition:{value:ge,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:NaN,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:me,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Promise.resolve(void 0),writable:!0},_reachable:{value:n!==be,writable:!0},_rejector:{value:(r=this,e=>{if(e===_e)throw e;if(e===ge)throw new le(`${r._name} is not defined`,r._name);if(e instanceof Error&&e.message)throw new le(e.message,r._name);throw new le(`${r._name} could not be resolved`,r._name)})},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}function ye(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}function we(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}function ge(){throw ge}function _e(){throw _e}function xe(e){return()=>{throw new le(`${e} is defined more than once`)}}function Ee(e,t,n){const r=this._module._scope,o=this._module._runtime;if(this._inputs.forEach(we,this),t.forEach(ye,this),this._inputs=t,this._definition=n,this._value=void 0,n===me?o._variables.delete(this):o._variables.add(this),e!==this._name||r.get(e)!==this){let t,a;if(this._name)if(this._outputs.size)r.delete(this._name),a=this._module._resolve(this._name),a._outputs=this._outputs,this._outputs=new Set,a._outputs.forEach((function(e){e._inputs[e._inputs.indexOf(this)]=a}),this),a._outputs.forEach(o._updates.add,o._updates),o._dirty.add(a).add(this),r.set(this._name,a);else if((a=r.get(this._name))===this)r.delete(this._name);else{if(3!==a._type)throw new Error;a._duplicates.delete(this),this._duplicate=void 0,1===a._duplicates.size&&(a=a._duplicates.keys().next().value,t=r.get(this._name),a._outputs=t._outputs,t._outputs=new Set,a._outputs.forEach((function(e){e._inputs[e._inputs.indexOf(t)]=a})),a._definition=a._duplicate,a._duplicate=void 0,o._dirty.add(t).add(a),o._updates.add(a),r.set(this._name,a))}if(this._outputs.size)throw new Error;e&&((a=r.get(e))?3===a._type?(this._definition=xe(e),this._duplicate=n,a._duplicates.add(this)):2===a._type?(this._outputs=a._outputs,a._outputs=new Set,this._outputs.forEach((function(e){e._inputs[e._inputs.indexOf(a)]=this}),this),o._dirty.add(a).add(this),r.set(e,this)):(a._duplicate=a._definition,this._duplicate=n,t=new ve(3,this._module),t._name=e,t._definition=this._definition=a._definition=xe(e),t._outputs=a._outputs,a._outputs=new Set,t._outputs.forEach((function(e){e._inputs[e._inputs.indexOf(a)]=t})),t._duplicates=new Set([this,a]),o._dirty.add(a).add(t),o._updates.add(a).add(t),r.set(e,t)):r.set(e,this)),this._name=e}return this._version>0&&++this._version,o._updates.add(this),o._compute(),this}Object.defineProperties(ve.prototype,{_pending:{value:function(){this._observer.pending&&this._observer.pending()},writable:!0,configurable:!0},_fulfilled:{value:function(e){this._observer.fulfilled&&this._observer.fulfilled(e,this._name)},writable:!0,configurable:!0},_rejected:{value:function(e){this._observer.rejected&&this._observer.rejected(e,this._name)},writable:!0,configurable:!0},define:{value:function(e,t,n){switch(arguments.length){case 1:n=e,e=t=null;break;case 2:n=t,"string"==typeof e?t=null:(t=e,e=null)}return Ee.call(this,null==e?null:String(e),null==t?[]:he.call(t,this._module._resolve,this._module),"function"==typeof n?n:fe(n))},writable:!0,configurable:!0},delete:{value:function(){return Ee.call(this,null,[],me)},writable:!0,configurable:!0},import:{value:function(e,t,n){return arguments.length<3&&(n=t,t=e),Ee.call(this,String(t),[n._resolve(String(e))],de)},writable:!0,configurable:!0}});const je=Symbol("variable"),Ae=Symbol("invalidation"),Te=Symbol("visibility");function Se(e,t=[]){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map},_builtins:{value:new Map([["@variable",je],["invalidation",Ae],["visibility",Te],...t])},_source:{value:null,writable:!0}})}async function Ce(e,t){await e._compute();try{return await t._promise}catch(n){if(n===_e)return Ce(e,t);throw n}}function qe(e){return e._name}Object.defineProperties(Se.prototype,{_resolve:{value:function(e){let t,n=this._scope.get(e);if(!n)if(n=new ve(2,this),this._builtins.has(e))n.define(e,fe(this._builtins.get(e)));else if(this._runtime._builtin._scope.has(e))n.import(e,this._runtime._builtin);else{try{t=this._runtime._global(e)}catch(t){return n.define(e,function(e){return()=>{throw e}}(t))}void 0===t?this._scope.set(n._name=e,n):n.define(e,fe(t))}return n},writable:!0,configurable:!0},redefine:{value:function(e){const t=this._scope.get(e);if(!t)throw new le(`${e} is not defined`);if(3===t._type)throw new le(`${e} is defined more than once`);return t.define.apply(t,arguments)},writable:!0,configurable:!0},define:{value:function(){const e=new ve(1,this);return e.define.apply(e,arguments)},writable:!0,configurable:!0},derive:{value:function(e,t){const n=new Map,r=new Set,o=[];function a(e){let t=n.get(e);return t||(t=new Se(e._runtime,e._builtins),t._source=e,n.set(e,t),o.push([t,e]),r.add(e),t)}const i=a(this);for(const n of e){const{alias:e,name:r}="object"==typeof n?n:{name:n};i.import(r,null==e?r:e,t)}for(const e of r)for(const[t,n]of e._scope)if(n._definition===de){if(e===this&&i._scope.has(t))continue;const r=n._inputs[0]._module;r._source&&a(r)}for(const[e,t]of o)for(const[r,o]of t._scope){const t=e._scope.get(r);if(!t||2===t._type)if(o._definition===de){const t=o._inputs[0],a=t._module;e.import(t._name,r,n.get(a)||a)}else e.define(r,o._inputs.map(qe),o._definition)}return i},writable:!0,configurable:!0},import:{value:function(){const e=new ve(1,this);return e.import.apply(e,arguments)},writable:!0,configurable:!0},value:{value:async function(e){let t=this._scope.get(e);if(!t)throw new le(`${e} is not defined`);if(t._observer!==be)return Ce(this._runtime,t);t=this.variable(!0).define([e],de);try{return await Ce(this._runtime,t)}finally{t.delete()}},writable:!0,configurable:!0},variable:{value:function(e){return new ve(1,this,e)},writable:!0,configurable:!0},builtin:{value:function(e,t){this._builtins.set(e,t)},writable:!0,configurable:!0}});const Oe="function"==typeof requestAnimationFrame?requestAnimationFrame:"function"==typeof setImmediate?setImmediate:e=>setTimeout(e,0);function Ne(e=new ue.Library,t=Fe){const n=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_precomputes:{value:[],writable:!0},_computing:{value:null,writable:!0},_init:{value:null,writable:!0},_modules:{value:new Map},_variables:{value:new Set},_disposed:{value:!1,writable:!0},_builtin:{value:n},_global:{value:t}}),e)for(const t in e)new ve(2,n).define(t,[],e[t])}function ke(e){const t=new Set(e._inputs);for(const n of t){if(n===e)return!0;n._inputs.forEach(t.add,t)}return!1}function Le(e){++e._indegree}function Me(e){--e._indegree}function Pe(e){return e._promise.catch(e._rejector)}function $e(e){return new Promise((function(t){e._invalidate=t}))}function Ie(e,t){let n,r,o="function"==typeof IntersectionObserver&&t._observer&&t._observer._node,a=!o,i=me,s=me;return o&&(r=new IntersectionObserver((([e])=>(a=e.isIntersecting)&&(n=null,i()))),r.observe(o),e.then((()=>(r.disconnect(),r=null,s())))),function(e){return a?Promise.resolve(e):r?(n||(n=new Promise(((e,t)=>(i=e,s=t)))),n.then((()=>e))):Promise.reject()}}function Re(e){e._invalidate(),e._invalidate=me,e._pending();const t=e._value,n=++e._version;let r=null;(e._promise=(e._inputs.length?Promise.all(e._inputs.map(Pe)).then((function(o){if(e._version!==n)throw _e;for(let t=0,n=o.length;t<n;++t)switch(o[t]){case Ae:o[t]=r=$e(e);break;case Te:r||(r=$e(e)),o[t]=Ie(r,e);break;case je:o[t]=e}return e._definition.apply(t,o)})):new Promise((n=>n(e._definition.call(t))))).then((function(t){if(e._version!==n)throw _e;return function(e){return e&&"function"==typeof e.next&&"function"==typeof e.return}(t)?((r||$e(e)).then((o=t,function(){o.return()})),function(e,t,n){const r=e._module._runtime;let o;function a(e){return new Promise((e=>e(n.next(o)))).then((({done:t,value:n})=>t?void 0:Promise.resolve(n).then(e)))}function i(){const n=a((a=>{if(e._version!==t)throw _e;return o=a,s(a,n).then((()=>r._precompute(i))),e._fulfilled(a),a}));n.catch((r=>{r!==_e&&e._version===t&&(s(void 0,n),e._rejected(r))}))}function s(t,n){return e._value=t,e._promise=n,e._outputs.forEach(r._updates.add,r._updates),r._compute()}return a((n=>{if(e._version!==t)throw _e;return o=n,r._precompute(i),n}))}(e,n,t)):t;var o}))).then((t=>{e._value=t,e._fulfilled(t)}),(t=>{t!==_e&&(e._value=void 0,e._rejected(t))}))}function De(e,t){e._invalidate(),e._invalidate=me,e._pending(),++e._version,e._indegree=NaN,(e._promise=Promise.reject(t)).catch(me),e._value=void 0,e._rejected(t)}function Fe(e){return globalThis[e]}function Ue(e,t,n){return null===e.input&&(e.input={}),(void 0===e.input.width||e.width_updated)&&e.update_width&&(e.input.width=n,e.width_updated=!0),(void 0===e.input.height||e.height_updated)&&e.update_height&&(e.input.height=t,e.height_updated=!0),e}Object.defineProperties(Ne.prototype,{_precompute:{value:function(e){this._precomputes.push(e),this._compute()},writable:!0,configurable:!0},_compute:{value:function(){return this._computing||(this._computing=this._computeSoon())},writable:!0,configurable:!0},_computeSoon:{value:function(){return new Promise(Oe).then((()=>this._disposed?void 0:this._computeNow()))},writable:!0,configurable:!0},_computeNow:{value:async function(){let e,t,n=[],r=this._precomputes;if(r.length){this._precomputes=[];for(const e of r)e();await function(e=0){let t=Promise.resolve();for(let n=0;n<e;++n)t=t.then((()=>{}));return t}(3)}e=new Set(this._dirty),e.forEach((function(t){t._inputs.forEach(e.add,e);const n=function(e){if(e._observer!==be)return!0;const t=new Set(e._outputs);for(const e of t){if(e._observer!==be)return!0;e._outputs.forEach(t.add,t)}return!1}(t);n>t._reachable?this._updates.add(t):n<t._reachable&&t._invalidate(),t._reachable=n}),this),e=new Set(this._updates),e.forEach((function(t){t._reachable?(t._indegree=0,t._outputs.forEach(e.add,e)):(t._indegree=NaN,e.delete(t))})),this._computing=null,this._updates.clear(),this._dirty.clear(),e.forEach((function(e){e._outputs.forEach(Le)}));do{for(e.forEach((function(e){0===e._indegree&&n.push(e)}));t=n.pop();)Re(t),t._outputs.forEach(o),e.delete(t);e.forEach((function(t){ke(t)&&(De(t,new le("circular definition")),t._outputs.forEach(Me),e.delete(t))}))}while(e.size);function o(e){0==--e._indegree&&n.push(e)}},writable:!0,configurable:!0},dispose:{value:function(){this._computing=Promise.resolve(),this._disposed=!0,this._variables.forEach((e=>{e._invalidate(),e._version=NaN}))},writable:!0,configurable:!0},module:{value:function(e,t=me){let n;if(void 0===e)return(n=this._init)?(this._init=null,n):new Se(this);if(n=this._modules.get(e),n)return n;this._init=n=new Se(this),this._modules.set(e,n);try{e(this,t)}finally{this._init=null}return n},writable:!0,configurable:!0},fileAttachments:{value:ue.FileAttachments,writable:!0,configurable:!0}});class Be{constructor(e,t,n){if(void 0===n)throw new Error("Cannot be called directly");this.el=e,this._params=t,this._params.current_observers={},this.output_divs=new Map,this.num_cells=1;let r=new Ne,o=this.build_inspector();this.main=r.module(n,o),null===this.params.include&&null!==this.params.hide&&this.hide_cells()}static async build(e,t){const n="http"==(r=t.notebook).slice(0,4)?r.replace("://observablehq","://api.observablehq")+".js?v=3":"@"==r.slice(0,1)||"d/"==r.slice(0,2)?`https://api.observablehq.com/${r}.js?v=3`:`https://api.observablehq.com/d/${r}.js?v=3`;var r;let o=await import(n);return new Be(e,t,o.default)}build_inspector(){if(null!==this.params.include){const e=Array.isArray(this.params.include)?this.params.include:[this.params.include];return t=>{let n;if(e.includes(t)){n=this.create_output_div(t);const e=new ce(n);return{pending(){const n=new Event("robservable-"+t+"-pending");e.pending(),document.dispatchEvent(n)},fulfilled(n){const r=new Event("robservable-"+t+"-fulfilled");e.fulfilled(n),document.dispatchEvent(r)},rejected(n){const r=new Event("robservable-"+t+"-rejected");e.rejected(n),document.dispatchEvent(r)}}}if((void 0===t||""===t)&&(e.includes(this.num_cells)||e.includes(String(this.num_cells))))return n=this.create_output_div(),new ce(n);this.num_cells++}}return ce.into(this.el)}get params(){return this._params}set params(e){this._params=e,this.set_variable_observers(),this.update_variables()}create_output_div(e){const t=this.num_cells;let n=(void 0===e||""===e?"unnamed-"+this.num_cells:e).replace(/[!\"#$%&'\(\)\*\+,\.\/:;<=>\?\@\[\\\]\^`\{\|\}~\s]/g,"_");const r=Array.isArray(this.params.hide)?this.params.hide:[this.params.hide];let o=document.createElement("div");return o.className=n,(r.includes(e)||r.includes(t)||r.includes(String(t)))&&(o.style.display="none"),this.el.appendChild(o),this.output_divs.set(e,o),this.num_cells++,o}hide_cells(){const e=Array.isArray(this.params.hide)?this.params.hide:[this.params.hide],t=this.el.querySelectorAll(".observablehq");e.forEach((e=>{try{t[e].style.display="none"}catch(e){}}))}add_observer(e){let t=this.main.variable({fulfilled(e,t){console.log(e,t),null!==t&&HTMLWidgets.shinyMode&&Shiny.setInputValue(t.replace(/robservable_/,""),e)}}).define(this.el.id+"_robservable_"+e,[e],(e=>e));this.params.current_observers[e]=t}set_variable_observers(){let e=Array.isArray(this.params.observers)?this.params.observers:[this.params.observers];this.params.observers||(e=[]);let t=Object.keys(this.params.current_observers);e.forEach((e=>{t.includes(e)||this.add_observer(e)}))}update_variables(){let e=this.params.input;e=null===e?{}:e,Object.entries(e).forEach((([e,t])=>{try{try{this.main.redefine(e,t)}catch(n){this.main.define(e,t)}}catch(t){console.warn(`Can't update ${e} variable : ${t.message}`)}}));let t=this.params.input_js;t=null===t?{}:t,Object.entries(t).forEach((([e,t])=>{null===t.inputs&&(t.inputs=[]),Array.isArray(t.inputs)||(t.inputs=[t.inputs]);try{this.main.redefine(e,t.inputs,t.definition)}catch(t){console.warn(`Can't update ${e} cell : ${t.message}`)}}))}}HTMLWidgets;var ze=n(3379),We=n.n(ze),He=n(7795),Ve=n.n(He),Ge=n(569),Ze=n.n(Ge),Ye=n(3565),Qe=n.n(Ye),Je=n(9216),Ke=n.n(Je),Xe=n(4589),et=n.n(Xe),tt=n(5905),nt={};nt.styleTagTransform=et(),nt.setAttributes=Qe(),nt.insert=Ze().bind(null,"head"),nt.domAPI=Ve(),nt.insertStyleElement=Ke(),We()(tt.Z,nt),tt.Z&&tt.Z.locals&&tt.Z.locals,HTMLWidgets.widget({name:"robservable",type:"output",factory:function(e,t,n){return HTMLWidgets.shinyMode||(document.querySelector("body").style.overflow="auto",document.querySelector("body").style.width="auto"),e.width=t,e.height=n,{renderValue(t){let n=e.module;void 0===n||n.params.notebook!==t.notebook?Be.build(e,t).then((n=>{t=Ue(t,e.height,e.width),n.params=t,e.module=n,this.queuedMethods.length>0&&(this.queuedMethods.forEach((e=>{this[e.method]&&this[e.method](e.args)})),this.queuedMethods=[])})):(t.current_observers=n.params.current_observers,e.module.params=t)},resize(t,n){if(void 0===e.module)return;e.width=t,e.height=n;let r=e.module.params;r=Ue(r,e.height,e.width),e.module.params=r},update(t){e.hasOwnProperty("module")?(e.module.params.input=t,e.module.update_variables()):this.queuedMethods.push({method:"update",args:t})},observe(t){e.hasOwnProperty("module")?(e.module.params.observers=t,e.module.set_variable_observers()):this.queuedMethods.push({method:"observe",args:t})},queuedMethods:[]}}}),HTMLWidgets.shinyMode&&Shiny.addCustomMessageHandler("robservable-calls",(function(e){var t=e.id,n=document.getElementById(t)?HTMLWidgets.find("#"+t):null;if(n)for(var r=0;r<e.calls.length;r++){var o=e.calls[r];o.dependencies&&Shiny.renderDependencies(o.dependencies),n[o.method]?n[o.method](o.args):console.log("Unknown method "+o.method)}else console.log("Couldn't find robservable with id "+t)}))})()})();